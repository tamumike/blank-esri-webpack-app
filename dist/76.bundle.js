(function(){(this||window).webpackJsonp.registerAbsMids({"esri/views/2d/support/Evented":1356,"esri/views/2d/tiling/TileQueue":1428,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/views/2d/tiling/TileQueue":1428,"esri/core/QueueProcessor":1429,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/core/QueueProcessor":1429,"esri/core/Queue":1430,"esri/views/2d/engine/Bitmap":1444,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/views/2d/engine/Bitmap":1444,"esri/views/2d/engine/BitmapSource":1445,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/views/2d/engine/BitmapSource":1445,"esri/views/2d/engine/Canvas2DContainer":1446,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/views/2d/engine/Canvas2DContainer":1446,"esri/views/2d/viewStateUtils":1454,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/views/2d/viewStateUtils":1454,"esri/core/HandleOwner":1472,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/core/HandleOwner":1472,"esri/views/2d/engine/BitmapContainer":1525,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/views/2d/engine/BitmapContainer":1525,"esri/views/2d/tiling":1539,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/views/2d/tiling":1539,"esri/views/2d/engine/Tiled":1561,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/views/2d/engine/Tiled":1561,"esri/renderers/support/heatmapUtils":1633,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/renderers/support/heatmapUtils":1633,"esri/views/2d/engine/BitmapTile":1674,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/views/2d/engine/BitmapTile":1674,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/views/2d/layers/features/tileRenderers/BaseTileRenderer":1727,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/views/2d/layers/features/tileRenderers/HeatmapTileRenderer":2206,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/views/2d/layers/features/tileRenderers/support/HeatmapSource":2207,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/core/ObjectFactory":2208})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{1356:function(e,t,i){var n,r;n=[i.dj.c(e.i),t],void 0===(r=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this._listeners={}}return e.prototype.on=function(e,t){var i=this;null==this._listeners[e]&&(this._listeners[e]=new Map);var n={};return this._listeners[e].set(n,t),{remove:function(){return i._listeners[e].delete(n)}}},e.prototype.once=function(e,t){var i=this.on(e,function(e){i.remove(),t(e)});return i},e.prototype.emit=function(e,t){this.hasEventListener(e)&&this._listeners[e].forEach(function(e){return e(t)})},e.prototype.hasEventListener=function(e){return null!=this._listeners[e]&&this._listeners[e].size>0},e}();t.default=i}.apply(null,n))||(e.exports=r)},1428:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i(1429),i(80)],void 0===(r=function(e,t,i,n){var r=new Set,s=[],o=new Map,a=[0,0];return function(){function e(e){var t=this;this._keysToRequests=new Map,this.tileInfoView=null;var n=e.strategy&&"scale-first"!==e.strategy?this._peekByCenterFirst.bind(this):this._peekByScaleFirst.bind(this);this.tileInfoView=e.tileInfoView,e.tileServers&&e.tileServers.length>0?this._queues=e.tileServers.map(function(r){return new i({concurrency:e.concurrency||6,process:function(i){var n=t._keysToRequests.get(i);return e.process(n,r)},peeker:n})}):this._queues=[new i({concurrency:e.concurrency||6,process:function(i){var n=t._keysToRequests.get(i);return e.process(n)},peeker:n})]}return Object.defineProperty(e.prototype,"length",{get:function(){return this._queues.reduce(function(e,t){return e+t.length},0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onGoingCount",{get:function(){return this._keysToRequests.size},enumerable:!0,configurable:!0}),e.prototype.clear=function(){for(var e=0,t=this._queues;e<t.length;e++)t[e].clear();this._keysToRequests.clear()},e.prototype.find=function(e,t){for(var i=this,n=0,r=this._queues;n<r.length;n++){var s=r[n].find(function(t){return e(i._keysToRequests.get(t).key)});if(s)return s}},e.prototype.get=function(e){for(var t="string"==typeof e?e:e.id,i=0,n=this._queues;i<n.length;i++){var r=n[i].get(t);if(r)return r}},e.prototype.getRequest=function(e){var t="string"==typeof e?e:e.id;return this._keysToRequests.get(t)},e.prototype.has=function(e){return"string"==typeof e?this._keysToRequests.has(e):this._keysToRequests.has(e.id)},e.prototype.isOngoing=function(e){var t="string"==typeof e?e:e.id;return this.has(t)&&this._queues.some(function(e){return e.isOngoing(t)})},e.prototype.pause=function(){for(var e=0,t=this._queues;e<t.length;e++)t[e].pause()},e.prototype.push=function(e){var t=this,i=e.key.id;if(this.has(i))return this.get(i);var n=this._queues[e.key.row%this._queues.length].push(i),r=function(){return t._keysToRequests.delete(i)};return this._keysToRequests.set(i,e),n.then(r,r),n},e.prototype.reset=function(){for(var e=0,t=this._queues;e<t.length;e++)t[e].reset()},e.prototype.resume=function(){for(var e=0,t=this._queues;e<t.length;e++)t[e].resume()},e.prototype._peekByScaleFirst=function(e){if(!this.state)return e[0];for(var t=this.tileInfoView,i=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY,a=0,u=e;a<u.length;a++){var h=u[a],l=this._keysToRequests.get(h),p=this.tileInfoView.getTileScale(l.key);o.has(p)||(o.set(p,[]),i=Math.max(p,i),n=Math.min(p,n)),o.get(p).push(l.key),r.add(p)}var c=this.state.scale;o.has(c)||(function(e,t){e.length=0,t.forEach(function(t){return e.push(t)})}(s,r),s.sort(),c=s.reduce(function(e,t,i,n){return Math.abs(t-c)<Math.abs(e-c)?t:e},s[0])),c=Math.min(c,i),c=Math.max(c,n);var d=o.get(c),f=t.getClosestInfoForScale(c),y=f.getColumnForX(this.state.center[0]),g=f.getRowForY(this.state.center[1]);return d.sort(function(e,t){var i=f.denormalizeCol(e.col,e.world),n=f.denormalizeCol(t.col,t.world);return Math.sqrt((y-i)*(y-i)+(g-e.row)*(g-e.row))-Math.sqrt((y-n)*(y-n)+(g-t.row)*(g-t.row))}),r.clear(),o.clear(),d[0].id},e.prototype._peekByCenterFirst=function(e){if(!this.state)return e[0];for(var t=this.tileInfoView,i=this.state.center,r=Number.POSITIVE_INFINITY,s=null,o=0,u=e;o<u.length;o++){var h=u[o],l=this._keysToRequests.get(h);t.getTileCoords(a,l.key);var p=n.distance(a,i);p<r&&(r=p,s=l.key)}return s.id},e}()}.apply(null,n))||(e.exports=r)},1429:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i(23),i(1430),i(46)],void 0===(r=function(e,t,i,n,r){return function(){function e(e){this._apiPromises=new Map,this._processingItems=new Map,this._isPaused=!1,this._scheduledNextHandle=null,this.concurrency=1,this.ordered=!1,e.concurrency&&(this.concurrency=e.concurrency),this.ordered=!!e.ordered,this._queue=new n(e.peeker?{peeker:e.peeker}:void 0),this.process=e.process}return Object.defineProperty(e.prototype,"length",{get:function(){return this._processingItems.size+this._queue.length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this._queue.clear();var e=[];this._processingItems.forEach(function(t){return e.push(t.resultPromise)}),this._processingItems.clear(),e.forEach(function(e){return e.cancel()}),e.length=0,this._apiPromises.forEach(function(t){return e.push(t)}),this._apiPromises.clear(),e.forEach(function(e){return e.cancel()}),this._cancelNext()},e.prototype.find=function(e,t){var i=this,n=void 0;return this._apiPromises.forEach(function(r,s){e.call(t,s)&&(n=i._apiPromises.get(s).promise)}),n},e.prototype.get=function(e){var t=this._apiPromises.get(e);return t&&t.promise||void 0},e.prototype.isOngoing=function(e){return this._processingItems.has(e)},e.prototype.has=function(e){return this._apiPromises.has(e)},e.prototype.pause=function(){this._isPaused||(this._isPaused=!0,this._cancelNext())},e.prototype.push=function(e){var t=this;if(this._apiPromises.has(e))return this._apiPromises.get(e).promise;var n=new i(function(i){var n=t._processingItems.get(e);n?n.resultPromise.cancel(i):(t._remove(e),t._scheduleNext())});return this._add(e,n),this._scheduleNext(),n.promise},e.prototype.reset=function(){var e=[];this._processingItems.forEach(function(t){return e.push(t)}),this._processingItems.clear();for(var t=0,i=e;t<i.length;t++){var n=i[t];n.resultPromise.isFulfilled()?this._processReset(n):(n.isReset=!0,n.resultPromise.cancel())}},e.prototype.resume=function(){this._isPaused&&(this._isPaused=!1,this._scheduleNext())},e.prototype._scheduleNext=function(){var e=this;this._isPaused||this._scheduledNextHandle||(this._scheduledNextHandle=r.schedule(function(){e._scheduledNextHandle=null,e._next()}))},e.prototype._next=function(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())},e.prototype._processResult=function(e,t){this._remove(e.item),this._scheduleNext(),e.dfd.resolve(t)},e.prototype._processError=function(e,t){e.isReset?this._processReset(e):(this._remove(e.item),this._scheduleNext(),e.dfd.reject(t))},e.prototype._processReset=function(e){this._remove(e.item),this._add(e.item,e.dfd),this._scheduleNext()},e.prototype._processOrdered=function(e,t){var i=this,n=!1;if(e.isReset)this._processReset(e);else{e.result=t,this._itemsToProcess||(this._itemsToProcess=[]),this._processingItems.forEach(function(e){n||(e.result?i._itemsToProcess.push(e):n=!0)});for(var r=0,s=this._itemsToProcess;r<s.length;r++){var o=s[r];!1===o.result.ok?this._processError(o,o.result.error):this._processResult(o,o.result.value)}this._itemsToProcess.length=0}},e.prototype._process=function(e){var t=this;if(null!=e){var i=this._apiPromises.get(e),n=this.process(e);if(function(e){return e&&"function"==typeof e.then}(n)){var r={item:e,resultPromise:n,result:null,dfd:i,isReset:!1};this._processingItems.set(e,r),this.ordered?n.then(function(e){return t._processOrdered(r,{ok:!0,value:e})},function(e){return t._processOrdered(r,{ok:!1,error:e})}):n.then(function(e){return t._processResult(r,e)},function(e){return t._processError(r,e)})}else i.resolve(n),this._remove(e)}},e.prototype._add=function(e,t){this._apiPromises.set(e,t),this._queue.push(e)},e.prototype._remove=function(e){this._queue.remove(e),this._apiPromises.delete(e),this._processingItems.delete(e)},e.prototype._cancelNext=function(){this._scheduledNextHandle&&(this._scheduledNextHandle.remove(),this._scheduledNextHandle=null)},e}()}.apply(null,n))||(e.exports=r)},1430:function(e,t,i){var n,r;n=[i.dj.c(e.i),t],void 0===(r=function(e,t){return function(){function e(e){this._items=[],this._itemSet=new Set,this._peeker=function(e){return e[0]},this._length=0,e&&e.peeker&&(this._peeker=e.peeker)}return Object.defineProperty(e.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this._itemSet.clear(),this._items.length=0,this._length=0},e.prototype.peek=function(){if(0!==this._length)return this._peeker(this._items)},e.prototype.push=function(e){this.contains(e)||this._add(e)},e.prototype.contains=function(e){return this._length>0&&this._itemSet.has(e)},e.prototype.pop=function(){if(0!==this._length){var e=this.peek();return this._remove(e),e}},e.prototype.remove=function(e){this.contains(e)&&this._remove(e)},e.prototype._add=function(e){this._items.push(e),this._itemSet.add(e),this._length++},e.prototype._remove=function(e){this._itemSet.delete(e),this._items.splice(this._items.indexOf(e),1),this._length--},e}()}.apply(null,n))||(e.exports=r)},1444:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i(10),i(207)],void 0===(r=function(e,t,i,n){var r=[0,0];return function(e){function t(t){var i=e.call(this)||this;return i.height=0,i.resolution=0,i.rotation=0,i._source=null,i._sourceHandle=null,i.width=0,i.x=0,i.y=0,i.source=t,i.requestRender=i.requestRender.bind(i),i}return i(t,e),Object.defineProperty(t.prototype,"source",{get:function(){return this._source},set:function(e){this._sourceHandle&&(this._sourceHandle.remove(),this._sourceHandle=null),this._source=e,this._source&&(this._sourceHandle=this._source.on("update",this.requestRender)),this.requestRender()},enumerable:!0,configurable:!0}),t.prototype.doRender=function(e){this.source&&this.source.ready&&this.renderCanvas2D(e)},t.prototype.renderCanvas2D=function(e){var t=this.source,i=e.context,n=e.state,s=n.resolution,o=n.rotation,a=this.resolution/s*n.pixelRatio;if(!(a<.05)){i.save();var u=n.toScreen(r,this.x,this.y),h=u[0],l=u[1];if(a>.99&&a<1.01?i.translate(Math.round(h),Math.round(l)):(i.translate(h,l),i.scale(a,a)),o){var p=o*Math.PI/180;i.rotate(p)}t.rotation&&(i.translate(.5*this.width,.5*this.height),i.rotate(-t.rotation*Math.PI/180),i.translate(.5*-this.width,.5*-this.height));var c=t.resolution||this.resolution,d=(this.x-t.x)/c,f=-(this.y-t.y)/c,y=(t.width||this.width)*(this.resolution/c),g=(t.height||this.height)*(this.resolution/c);i.clearRect(0,0,this.width,this.height),t.draw(i,Math.round(d),Math.round(f),Math.round(y),Math.round(g),0,0,this.width,this.height),i.restore()}},t}(n)}.apply(null,n))||(e.exports=r)},1445:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i(10),i(76),i(1356)],void 0===(r=function(e,t,i,n,r){function s(e){return e&&"render"in e}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var i=e.call(this)||this;return i._height=0,i.pixelRatio=1,i.resolution=0,i.rotation=0,i._width=0,i.x=0,i.y=0,i.data=t,i}return i(t,e),t.prototype.release=function(){this.data=null},Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this._width=this._height=0,e&&(s(e)||(e instanceof HTMLImageElement?(this._width=e.naturalWidth,this._height=e.naturalHeight):e.width>0&&e.height>0&&(this._width=e.width,this._height=e.height)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return s(this._data)?this._data.height:this._height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ready",{get:function(){return s(this._data)?this._data.width>0&&this._data.height>0:this._width>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return s(this.data)?this._data.width:this._width},enumerable:!0,configurable:!0}),t.prototype.draw=function(e,t,i,n,r,o,a,u,h){this.ready&&(s(this._data)?this._data.render(e,t,i,n,r,o,a,u,h):function(e){return e&&!("render"in e)}(this._data)&&n&&r&&u&&h&&e.drawImage(this._data,t,i,n,r,o,a,u,h))},t.pool=new n(t,!0),t}(r.default);t.default=o}.apply(null,n))||(e.exports=r)},1446:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i(10),i(6),i(416),i(152),i(409)],void 0===(r=function(e,t,i,n,r,s,o){var a={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"};return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._childrenRenderParameters={context:null,pixelRatio:1,state:new r,stationary:!0},t.hidpi=!1,t}return i(t,e),t.prototype.createElement=function(){var e=document.createElement("canvas");return e.setAttribute("class","esri-display-object"),e},t.prototype.setElement=function(e){this.element=e},t.prototype.takeScreenshot=function(e){void 0===e&&(e={});var t=e.pixelRatio||1,i={context:null,pixelRatio:t,state:new r,stationary:!0};i.opacity=this._childrenRenderParameters.opacity,i.state.copy(this._childrenRenderParameters.state);var s=Math.round(t*i.state.width),u=Math.round(t*i.state.height),h={x:0,y:0,width:s,height:u},l={x:0,y:0,width:s,height:u},p=e.area;if(p&&(h.x=Math.round(t*p.x),h.y=Math.round(t*p.y),h.width=Math.round(t*p.width),h.height=Math.round(t*p.height)),void 0!==e.width&&void 0!==e.height){var c=e.width/e.height;if(h.height*c<h.width){var d=h.height*c;h.x+=Math.floor((h.width-d)/2),h.width=Math.floor(d)}else{var f=h.width/c;h.y+=Math.floor((h.height-f)/2),h.height=Math.floor(f)}l.width=e.width,l.height=e.height}else l.width=h.width,l.height=h.height;var y,g=document.createElement("canvas"),v=new Uint8Array(h.width*h.height*4);if(g.width=l.width,g.height=l.height,i.context=g.getContext("2d"),this.beforeRenderChildren(i,i),void 0!==e.rotation&&null!==e.rotation){var _=i.state,m=_.clone();m.viewpoint.rotation=e.rotation,i.state=m,this.renderChildren(i),i.state=_}else this.renderChildren(i);this.afterRenderChildren(i,i);try{y=i.context.getImageData(l.x,l.y,l.width,l.height)}catch(e){return n.reject(e)}0===h.x&&0===h.y&&h.width===s&&h.height===u&&0===l.x&&0===l.y&&l.width===s&&l.height===u||o.resampleHermite(v,h.width,h.height,y.data,l.width,l.height,!0),i.context.putImageData(y,l.x,l.y);var w=a[e.format?e.format.toLowerCase():"png"],b={dataURL:g.toDataURL(w,null!=e.quality?e.quality/100:1),x:l.x,y:l.y,width:l.width,height:l.height};return e.returnByteBuffer&&(b.data=v),n.resolve(b)},t.prototype.doRender=function(t){var i=this.element,n=i.style;if(this.visible){var r=t.state,s=t.pixelRatio,o=r.width,a=r.height;i.width=o*(this.hidpi?s:1),i.height=a*(this.hidpi?s:1),n.display="block",n.opacity=""+Math.min(this.opacity,this.parent.opacity),n.width=o+"px",n.height=a+"px",e.prototype.doRender.call(this,t)}else n.display="none"},t.prototype.prepareChildrenRenderParameters=function(e){var t=this._childrenRenderParameters;return t.context=this.element.getContext("2d"),t.pixelRatio=e.pixelRatio,t.state.copy(e.state),t.state.pixelRatio=this.hidpi?e.pixelRatio:1,t.stationary=e.stationary,t},t.prototype.beforeRenderChildren=function(e,t){var i=t.context,n=t.state;if(i.save(),n.spatialReference.isWrappable){var r=n.width,s=n.height,o=n.rotation,a=n.pixelRatio,u=this.hidpi?a:1,h=o*Math.PI/180,l=Math.abs(Math.cos(h)),p=Math.abs(Math.sin(h)),c=Math.round(r*u*l+s*u*p),d=n.worldScreenWidth*u;if(d<c){var f=r*u*.5,y=s*u*.5;h&&(i.translate(f,y),i.rotate(h),i.translate(-f,-y)),i.beginPath(),i.rect(f-.5*d,y-.5*c,d,c),i.closePath(),h&&(i.translate(f,y),i.rotate(-h),i.translate(-f,-y)),i.clip("evenodd")}}},t.prototype.afterRenderChildren=function(e,t){t.context.restore()},t.prototype.renderChild=function(e,t){t.context.save(),e.processRender(t),t.context.restore()},t}(s)}.apply(null,n))||(e.exports=r)},1454:function(e,t,i){var n,r;n=[i.dj.c(e.i),t],void 0===(r=function(e,t){function i(e){return e*n}Object.defineProperty(t,"__esModule",{value:!0});var n=Math.PI/180;t.snapToPixel=function(e,t,i){var n=i.resolution,r=i.size;return e[0]=n*(Math.round(t[0]/n)+r[0]%2*.5),e[1]=n*(Math.round(t[1]/n)+r[1]%2*.5),e},t.getOuterSize=function(e,t){var n=i(t.rotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),o=t.size,a=o[0],u=o[1];return e[0]=Math.round(u*s+a*r),e[1]=Math.round(u*r+a*s),e},t.getBBox=function(e,t,i,n){var r=t[0],s=t[1],o=n[0],a=n[1],u=.5*i;return e[0]=r-u*o,e[1]=s-u*a,e[2]=r+u*o,e[3]=s+u*a,e},t.bboxIntersects=function(e,t){var i=e[0],n=e[1],r=e[2],s=e[3],o=t[0],a=t[1],u=t[2],h=t[3];return!(i>u||r<o||n>h||s<a)}}.apply(null,n))||(e.exports=r)},1472:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i(2),i(0),i(4),i(16),i(1)],void 0===(r=function(e,t,i,n,r,s,o){return function(e){function t(){var t=e.call(this)||this;return t.handles=new s,t}return i(t,e),t.prototype.destroy=function(){this.handles.destroy()},n([o.property({readOnly:!0})],t.prototype,"handles",void 0),n([o.subclass("esri.core.HandleOwner")],t)}(o.declared(r))}.apply(null,n))||(e.exports=r)},1525:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i(10),i(0),i(416),i(1454),i(152)],void 0===(r=function(e,t,i,n,r,s,o){var a=[0,0];return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._childrenCanvas=null,t._childrenRenderParameters={context:null,pixelRatio:1,state:new r,stationary:!0},t}return i(t,e),t.prototype.attach=function(t){return this._childrenCanvas||(this._childrenCanvas=document.createElement("canvas"),this._childrenRenderParameters.context=this._childrenCanvas.getContext("2d")),e.prototype.attach.call(this,t)},t.prototype.detach=function(t){e.prototype.detach.call(this,t),this._childrenCanvas=null,this._childrenRenderParameters.context=null},t.prototype.doRender=function(t){this.visible&&e.prototype.doRender.call(this,t)},t.prototype.prepareChildrenRenderParameters=function(e){var t=this._childrenCanvas,i=this._childrenRenderParameters,n=e.state,r=n.pixelRatio,o=i.state;o.copy(n);var u=s.getOuterSize(a,n),h=u[0],l=u[1];return h*=r,l*=r,o.size=a,o.viewpoint.rotation=0,t.width!==h||t.height!==l?(t.width=h,t.height=l):i.context.clearRect(0,0,h,l),i.pixelRatio=e.pixelRatio,i},t.prototype.beforeRenderChildren=function(e,t){this.sortChildren(function(e,t){return t.resolution-e.resolution})},t.prototype.afterRenderChildren=function(e,t){var i=e.context,n=e.state,r=t.context,s=t.state;0===n.rotation?i.drawImage(r.canvas,0,0):(i.save(),i.translate(.5*n.width,.5*n.height),i.rotate(n.rotation*Math.PI/180),i.translate(.5*-n.width,.5*-n.height),i.drawImage(r.canvas,.5*(n.width-s.width),.5*(n.height-s.height)),i.restore())},t}(o)}.apply(null,n))||(e.exports=r)},1539:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i(413),i(149),i(1428),i(1441)],void 0===(r=function(e,t,i,n,r,s){Object.defineProperty(t,"__esModule",{value:!0}),t.TileInfoView=i,t.TileKey=n,t.TileQueue=r,t.TileStrategy=s}.apply(null,n))||(e.exports=r)},1561:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i(10),i(457),i(1324)],void 0===(r=function(e,t,i,n,r){return function(e){var t=function(e){function t(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n=e.call(this)||this;return n.status=r.TileStatus.INITIALIZED,n}return i(t,e),t}(e);return n.EventedMixin(t)}}.apply(null,n))||(e.exports=r)},1633:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i(56),i(63)],void 0===(r=function(e,t,i,n){function r(e,t,i,r,s){for(var o=new Uint32Array(e*e),a=("buffer"in t?t:new Float64Array(t)),u=("buffer"in i?new Uint32Array(i.buffer):new Uint32Array(new Uint8Array(i).buffer)),h=u.length/(s-r),l=0;l<a.length;l++){var p=a[l],c=Math.floor((p-r)*h);o[l]=u[n.clamp(c,0,u.length-1)]}return o.buffer}function s(e){for(var t=Math.round(4.5*e),i=e*e,n=new Float64Array(2*t+1),r=0;r<=n.length;r++)n[r]=Math.exp(-Math.pow(r-t,2)/(2*i))/Math.sqrt(2*Math.PI)*(e/2);return n}function o(e,t){return"function"==typeof e?e:e?"string"==typeof t?function(t){return-1*+t[e]}:function(i){return+i[e]+t}:function(e){return 1}}Object.defineProperty(t,"__esModule",{value:!0}),t.generateGradient=function(){if(!("document"in i))return function(e){return null};var e=document.createElement("canvas"),t=e.getContext("2d");return e.height=512,e.width=1,function(i){for(var n=t.createLinearGradient(0,0,0,e.height),r=0,s=i.colorStops;r<s.length;r++){var o=s[r],a=o.ratio,u=o.color;n.addColorStop(a,"rgba("+u[0]+", "+u[1]+", "+u[2]+", "+u[3]+")")}return t.fillStyle=n,t.fillRect(0,0,1,e.height),t.getImageData(0,0,1,e.height).data}}(),t.calculateHeatmapIntensityInfo=function(e,t,i,n){for(var r,a=t.blurRadius,u=t.fieldOffset,h=t.field,l=new Float64Array(i*n),p=s(a),c=Math.round(4.5*a),d=Number.NEGATIVE_INFINITY,f=o(h,u),y=0,g=e;y<g.length;y++)for(var v=g[y],_=v.geometry,m=v.attributes,w=_.x-c,b=_.y-c,x=Math.max(0,w),I=Math.max(0,b),R=Math.min(n,_.y+c),P=Math.min(i,_.x+c),k=+f(m),C=I;C<R;C++)for(var M=p[C-b],E=x;E<P;E++){var j=p[E-w];(r=l[C*i+E]+=M*j*k)>d&&(d=r)}return{matrix:l.buffer,max:d}},t.drawHeatmap=function(e,t,i,n,s,o){var a=e.getContext("2d");a.clearRect(0,0,t,t);var u=a.getImageData(0,0,t,t);return u.data.set(new Uint8ClampedArray(r(t,i,n,s,o))),a.putImageData(u,0,0),e},t.createHeatmapImageData=r,t.createKernel=s,t.createValueFunction=o}.apply(null,n))||(e.exports=r)},1674:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i(10),i(0),i(76),i(1539),i(1444),i(1561),i(1324)],void 0===(r=function(e,t,i,n,r,s,o,a,u){Object.defineProperty(t,"__esModule",{value:!0});var h=function(e){function t(t){var i=e.call(this,t)||this;return i.key=new s.TileKey(0,0,0,0),i}return i(t,e),t.prototype.acquire=function(e){},t.prototype.release=function(){this.key.set(0,0,0,0),this.status=u.TileStatus.INITIALIZED,this.source=null},t.pool=new r(t,!0),t}(a(o));t.default=h}.apply(null,n))||(e.exports=r)},1727:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i(2),i(0),i(4),i(1472),i(1),i(1324)],void 0===(r=function(e,t,i,n,r,s,o,a){Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(t){var i=e.call(this)||this;return i.tiles=new Map,i.layer=null,i}return i(t,e),t.prototype.destroy=function(){this.tiles.clear(),this.layer=this.layerView=this.tileInfoView=this.highlightOptions=this.configuration=this.tiles=null},Object.defineProperty(t.prototype,"updating",{get:function(){return this.isUpdating()},enumerable:!0,configurable:!0}),t.prototype.acquireTile=function(e){var t=this,i=this.createTile(e);return i.once("attach",function(){return t.notifyChange("updating")}),this.tiles.set(e.id,i),i},t.prototype.forEachTile=function(e){this.tiles.forEach(e)},t.prototype.releaseTile=function(e){this.tiles.delete(e.key.id),this.disposeTile(e)},t.prototype.isUpdating=function(){var e=!0;return this.tiles.forEach(function(t){e=e&&t.status!==a.TileStatus.INITIALIZED}),!e},t.prototype.requestUpdate=function(){this.layerView.requestUpdate()},n([o.property()],t.prototype,"configuration",void 0),n([o.property()],t.prototype,"highlightOptions",void 0),n([o.property()],t.prototype,"layer",void 0),n([o.property()],t.prototype,"layerView",void 0),n([o.property()],t.prototype,"tileInfoView",void 0),n([o.property()],t.prototype,"updating",null),n([o.subclass()],t)}(o.declared(r,s));t.default=u}.apply(null,n))||(e.exports=r)},2206:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i(2),i(0),i(1475),i(4),i(6),i(1),i(1495),i(1633),i(1525),i(1674),i(1446),i(1727),i(2207),i(1324)],void 0===(r=function(e,t,i,n,r,s,o,a,u,h,l,p,c,d,f,y){Object.defineProperty(t,"__esModule",{value:!0});var g=function(e){function t(t){var i=e.call(this)||this;return i._canvas=new c,i._bitmaps=new l,i._canvas.addChild(i._bitmaps),i}return i(t,e),Object.defineProperty(t.prototype,"gradient",{get:function(){return h.generateGradient(this.configuration.renderer)},enumerable:!0,configurable:!0}),t.prototype.createTile=function(e){var t=p.default.pool.acquire();return t.key.set(e),this.tileInfoView.getTileCoords(t,e),t.resolution=this.tileInfoView.getTileResolution(e),t.height=t.width=512,t},t.prototype.applyConfiguration=function(e,t){this.configuration=e;var i=e.renderer,n=i.minPixelIntensity,r=i.maxPixelIntensity,s=this.gradient;t||this.tiles.forEach(function(e){var t=e.source;t&&(t.minPixelIntensity=n,t.maxPixelIntensity=r,t.gradient=s)})},t.prototype.getProcessorConfiguration=function(){var e=this.layer;return{type:"heatmap",renderer:e.renderer.toJSON(),definitionExpression:e.definitionExpression,outFields:e.outFields,gdbVersion:e.gdbVersion,historicMoment:e.historicMoment&&e.historicMoment.getTime()}},t.prototype.hitTest=function(e,t){return o.resolve([])},t.prototype.highlight=function(e){return{remove:function(){}}},t.prototype.install=function(e){e.addChild(this._canvas)},t.prototype.uninstall=function(e){e.removeChild(this._canvas)},t.prototype.needsProcessorReconfiguration=function(e){var t=this.configuration;if(!t||t.definitionExpression!==e.definitionExpression||t.outFields.join()!==e.outFields.join())return!0;var i=this.configuration&&r.fromJSON(this.configuration.renderer)||null,n=e&&r.fromJSON(e.renderer)||null,s=u.diff(i,n);if(!s)return!1;switch(s.type){case"complete":return!0;case"partial":for(var o in s.diff)if("colorStops"!==o&&"minPixelIntensity"!==o&&"maxPixelIntensity"!==o)return!0}return!1},t.prototype.disposeTile=function(e){e.source&&f.default.pool.release(e.source),this._bitmaps.removeChild(e),p.default.pool.release(e)},t.prototype.supportsRenderer=function(e){return e&&"heatmap"===e.type},t.prototype.onTileData=function(e){var t=this.tiles.get(e.tileKey);if(t){var i=e.intensityInfo,n=this.configuration.renderer,r=n.minPixelIntensity,s=n.maxPixelIntensity;if(t.source)return t.source.minPixelIntensity=r,t.source.maxPixelIntensity=s,t.source.gradient=this.gradient,void(t.source.intensities=i&&i.matrix||null);var o=f.default.pool.acquire();o.intensities=i&&i.matrix||null,o.minPixelIntensity=r,o.maxPixelIntensity=s,o.gradient=this.gradient,t.source=o,t.source.x=t.x,t.source.y=t.y,t.status=y.TileStatus.READY,this._bitmaps.addChild(t),this.requestUpdate()}},t.prototype.onTileError=function(e){console.error(e)},n([a.property({readOnly:!0,dependsOn:["configuration"]})],t.prototype,"gradient",null),n([a.subclass()],t)}(a.declared(s,d.default));t.default=g}.apply(null,n))||(e.exports=r)},2207:function(e,t,i){var n,r;n=[i.dj.c(e.i),t,i(10),i(0),i(2208),i(76),i(1633),i(1445)],void 0===(r=function(e,t,i,n,r,s,o,a){Object.defineProperty(t,"__esModule",{value:!0});var u=new r.default(function(){var e=document.createElement("canvas");return e.width=e.height=512,e},function(e){e.width=e.height=512}),h=function(e){function t(){var t=e.call(this,u.acquire())||this;return t._invalidated=!0,t._gradient=null,t}return i(t,e),Object.defineProperty(t.prototype,"gradient",{get:function(){return this._gradient},set:function(e){this._gradient=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"intensities",{get:function(){return this._intensities},set:function(e){this._intensities=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minPixelIntensity",{get:function(){return this._minPixelIntensity},set:function(e){this._minPixelIntensity=e,this.invalidate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxPixelIntensity",{get:function(){return this._maxPixelIntensity},set:function(e){this._maxPixelIntensity=e,this.invalidate()},enumerable:!0,configurable:!0}),t.prototype.acquire=function(){this.data=u.acquire()},t.prototype.release=function(){u.release(this.data),this.data=null,this.intensities=null,this.gradient=null},t.prototype.draw=function(t,i,n,r,s,a,u,h,l){if(this._invalidated){if(this._invalidated=!1,!this._gradient||!this._intensities)return;o.drawHeatmap(this.data,512,this._intensities,this._gradient,this._minPixelIntensity,this._maxPixelIntensity)}e.prototype.draw.call(this,t,i,n,r,s,a,u,h,l)},t.prototype.invalidate=function(){this._invalidated=!0,this.emit("update",this)},t.pool=new s(t,!0),t}(a.default);t.default=h}.apply(null,n))||(e.exports=r)},2208:function(e,t,i){var n,r;n=[i.dj.c(e.i),t],void 0===(r=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,i,n){void 0===i&&(i=1),void 0===n&&(n=0),this.acquireFunction=e,this.releaseFunction=t,this.growthSize=i,this._pool=new Array(n),this._set=new Set,this._initialSize=n;for(var r=0;r<n;r++)this._pool[r]=this.acquireFunction();this.growthSize=Math.max(i,1)}return e.prototype.acquire=function(){var e;if(0===this._pool.length)for(var t=this.growthSize,i=0;i<t;i++)this._pool[i]=this.acquireFunction();return function(e){return e&&e.acquire&&"function"==typeof e.acquire}(e=this._pool.shift())&&e.acquire(),this._set.delete(e),e},e.prototype.release=function(e){e&&!this._set.has(e)&&(this.releaseFunction?this.releaseFunction(e):function(e){return e&&e.release&&"function"==typeof e.release}(e)&&e.release(),this._pool.push(e),this._set.add(e))},e.prototype.prune=function(){if(!(this._pool.length<=this._initialSize))for(var e;this._initialSize>this._pool.length;)e=this._pool.shift(),this._set.delete(e),e.dispose&&"function"==typeof e.dispose&&e.dispose()},e}();t.default=i}.apply(null,n))||(e.exports=r)}}]);