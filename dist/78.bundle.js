(function(){(this||window).webpackJsonp.registerAbsMids({"esri/views/layers/LayerView":1299,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/views/layers/LayerView":1299,"esri/views/layers/RefreshableLayerView":1318,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/views/layers/RefreshableLayerView":1318,"esri/views/2d/layers/LayerView2D":1342,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/views/2d/layers/LayerView2D":1342,"esri/views/2d/support/Evented":1356,"esri/views/2d/engine/Bitmap":1444,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/views/2d/engine/Bitmap":1444,"esri/views/2d/engine/BitmapSource":1445,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/views/2d/engine/BitmapSource":1445,"esri/views/2d/engine/Canvas2DContainer":1446,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/views/2d/engine/Canvas2DContainer":1446,"esri/views/2d/viewStateUtils":1454,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/views/2d/viewStateUtils":1454,"esri/views/2d/engine/BitmapContainer":1525,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/views/2d/engine/BitmapContainer":1525,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/views/2d/layers/support/ExportStrategy":1609,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/views/2d/layers/ImageryLayerView2D":2137})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{1299:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(2),i(0),i(4),i(42),i(16),i(147),i(7),i(146),i(6),i(1)],void 0===(n=function(e,t,i,r,n,a,o,s,h,p,d,l){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handles=new o,t.layer=null,t.parent=null,t.view=null,t}return i(t,e),t.prototype.initialize=function(){var e=this;this.addResolvingPromise(this.layer),this.when().catch(function(t){if("layerview:create-error"!==t.name){var i=e.layer&&e.layer.id||"no id",r=e.layer&&e.layer.title||"no title";return h.getLogger(e.declaredClass).error("#resolve()","Failed to resolve layer view (layer title: '"+r+"', id: '"+i+"')",t),d.reject(t)}})},t.prototype.destroy=function(){this.layer=this.view=this.parent=null},Object.defineProperty(t.prototype,"suspended",{get:function(){return!this.canResume()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updating",{get:function(){return!this.suspended&&this.isUpdating()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return!0===this.get("layer.visible")},set:function(e){void 0!==e?this._override("visible",e):this._clearOverride("visible")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullOpacity",{get:function(){var e=function(e){return null!=e?e:1};return e(this.get("layer.opacity"))*e(this.get("parent.fullOpacity"))},enumerable:!0,configurable:!0}),t.prototype.canResume=function(){return!this.get("parent.suspended")&&this.get("view.ready")&&this.get("layer.loaded")&&this.visible||!1},t.prototype.isUpdating=function(){return!1},r([l.property()],t.prototype,"layer",void 0),r([l.property()],t.prototype,"parent",void 0),r([l.property({readOnly:!0,dependsOn:["view","visible","layer.loaded","parent.suspended"]})],t.prototype,"suspended",null),r([l.property({type:Boolean,dependsOn:["suspended"],readOnly:!0})],t.prototype,"updating",null),r([l.property()],t.prototype,"view",void 0),r([l.property({dependsOn:["layer.visible"]})],t.prototype,"visible",null),r([l.property({dependsOn:["layer.opacity","parent.fullOpacity"]})],t.prototype,"fullOpacity",null),r([l.subclass("esri.views.layers.LayerView")],t)}(l.declared(n,a,s,p))}.apply(null,r))||(e.exports=n)},1318:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(2),i(0),i(4),i(1)],void 0===(n=function(e,t,i,r,n,a){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.refreshTimestamp=null,t}return i(t,e),t.prototype.refresh=function(e){void 0===e&&(e=Date.now()),this._set("refreshTimestamp",e),this.doRefresh&&this.doRefresh()},r([a.property()],t.prototype,"layer",void 0),r([a.aliasOf("layer.refreshInterval")],t.prototype,"refreshInterval",void 0),r([a.property({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),r([a.subclass("esri.layers.mixins.RefreshableLayerView")],t)}(a.declared(n))}.apply(null,r))||(e.exports=n)},1342:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(10),i(0),i(15),i(1),i(1299)],void 0===(n=function(e,t,i,r,n,a,o){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.attached=!1,t.lastUpdateId=-1,t.moving=!1,t.updateRequested=!1,t}return i(t,e),t.prototype.initialize=function(){var e=this;this.when(function(){e.requestUpdate()}),n.init(this,"suspended",function(t){e.container.visible=!t,!t&&e.updateRequested&&e.view.requestLayerViewUpdate(e)},!0),n.init(this,"fullOpacity",function(t){e.container.opacity=t},!0);var t=function(){this.notifyChange("rendering")}.bind(this);this.container.on("post-render",t),this.container.on("will-render",t)},t.prototype.destroy=function(){this.attached&&(this.attached=!1,this.detach()),this.updateRequested=!1,this.layer=null},Object.defineProperty(t.prototype,"rendering",{get:function(){return this.isRendering()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updating",{get:function(){return!this.suspended&&(!this.attached||this.updateRequested||this.isUpdating())},enumerable:!0,configurable:!0}),t.prototype.requestUpdate=function(){this.updateRequested||(this.updateRequested=!0,this.suspended||this.view.requestLayerViewUpdate(this))},t.prototype.processUpdate=function(e){!this.isFulfilled()||this.isResolved()?(this._set("updateParameters",e),this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(e))):this.updateRequested=!1},t.prototype.isUpdating=function(){return!1},t.prototype.isRendering=function(){return this.attached&&(this.moving||this.container.renderRequested)},t.prototype.canResume=function(){var e=this.inherited(arguments),t=this.layer;if(e&&null!=t.minScale&&null!=t.minScale){var i=this.view.scale,r=t.minScale,n=t.maxScale,a=!r,o=!n;!a&&i<=r&&(a=!0),!o&&i>=n&&(o=!0),e=a&&o}return e},r([a.property()],t.prototype,"attached",void 0),r([a.property()],t.prototype,"container",void 0),r([a.property()],t.prototype,"moving",void 0),r([a.property({dependsOn:["moving"]})],t.prototype,"rendering",null),r([a.property({dependsOn:["view.scale","layer.minScale","layer.maxScale"]})],t.prototype,"suspended",void 0),r([a.property({readOnly:!0})],t.prototype,"updateParameters",void 0),r([a.property()],t.prototype,"updateRequested",void 0),r([a.property({dependsOn:["updateRequested","attached"]})],t.prototype,"updating",null),r([a.property()],t.prototype,"view",void 0),r([a.subclass("esri.views.2d.layers.LayerView2D")],t)}(a.declared(o))}.apply(null,r))||(e.exports=n)},1356:function(e,t,i){var r,n;r=[i.dj.c(e.i),t],void 0===(n=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this._listeners={}}return e.prototype.on=function(e,t){var i=this;null==this._listeners[e]&&(this._listeners[e]=new Map);var r={};return this._listeners[e].set(r,t),{remove:function(){return i._listeners[e].delete(r)}}},e.prototype.once=function(e,t){var i=this.on(e,function(e){i.remove(),t(e)});return i},e.prototype.emit=function(e,t){this.hasEventListener(e)&&this._listeners[e].forEach(function(e){return e(t)})},e.prototype.hasEventListener=function(e){return null!=this._listeners[e]&&this._listeners[e].size>0},e}();t.default=i}.apply(null,r))||(e.exports=n)},1444:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(10),i(207)],void 0===(n=function(e,t,i,r){var n=[0,0];return function(e){function t(t){var i=e.call(this)||this;return i.height=0,i.resolution=0,i.rotation=0,i._source=null,i._sourceHandle=null,i.width=0,i.x=0,i.y=0,i.source=t,i.requestRender=i.requestRender.bind(i),i}return i(t,e),Object.defineProperty(t.prototype,"source",{get:function(){return this._source},set:function(e){this._sourceHandle&&(this._sourceHandle.remove(),this._sourceHandle=null),this._source=e,this._source&&(this._sourceHandle=this._source.on("update",this.requestRender)),this.requestRender()},enumerable:!0,configurable:!0}),t.prototype.doRender=function(e){this.source&&this.source.ready&&this.renderCanvas2D(e)},t.prototype.renderCanvas2D=function(e){var t=this.source,i=e.context,r=e.state,a=r.resolution,o=r.rotation,s=this.resolution/a*r.pixelRatio;if(!(s<.05)){i.save();var h=r.toScreen(n,this.x,this.y),p=h[0],d=h[1];if(s>.99&&s<1.01?i.translate(Math.round(p),Math.round(d)):(i.translate(p,d),i.scale(s,s)),o){var l=o*Math.PI/180;i.rotate(l)}t.rotation&&(i.translate(.5*this.width,.5*this.height),i.rotate(-t.rotation*Math.PI/180),i.translate(.5*-this.width,.5*-this.height));var u=t.resolution||this.resolution,c=(this.x-t.x)/u,y=-(this.y-t.y)/u,f=(t.width||this.width)*(this.resolution/u),g=(t.height||this.height)*(this.resolution/u);i.clearRect(0,0,this.width,this.height),t.draw(i,Math.round(c),Math.round(y),Math.round(f),Math.round(g),0,0,this.width,this.height),i.restore()}},t}(r)}.apply(null,r))||(e.exports=n)},1445:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(10),i(76),i(1356)],void 0===(n=function(e,t,i,r,n){function a(e){return e&&"render"in e}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var i=e.call(this)||this;return i._height=0,i.pixelRatio=1,i.resolution=0,i.rotation=0,i._width=0,i.x=0,i.y=0,i.data=t,i}return i(t,e),t.prototype.release=function(){this.data=null},Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this._width=this._height=0,e&&(a(e)||(e instanceof HTMLImageElement?(this._width=e.naturalWidth,this._height=e.naturalHeight):e.width>0&&e.height>0&&(this._width=e.width,this._height=e.height)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return a(this._data)?this._data.height:this._height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ready",{get:function(){return a(this._data)?this._data.width>0&&this._data.height>0:this._width>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return a(this.data)?this._data.width:this._width},enumerable:!0,configurable:!0}),t.prototype.draw=function(e,t,i,r,n,o,s,h,p){this.ready&&(a(this._data)?this._data.render(e,t,i,r,n,o,s,h,p):function(e){return e&&!("render"in e)}(this._data)&&r&&n&&h&&p&&e.drawImage(this._data,t,i,r,n,o,s,h,p))},t.pool=new r(t,!0),t}(n.default);t.default=o}.apply(null,r))||(e.exports=n)},1446:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(10),i(6),i(416),i(152),i(409)],void 0===(n=function(e,t,i,r,n,a,o){var s={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"};return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._childrenRenderParameters={context:null,pixelRatio:1,state:new n,stationary:!0},t.hidpi=!1,t}return i(t,e),t.prototype.createElement=function(){var e=document.createElement("canvas");return e.setAttribute("class","esri-display-object"),e},t.prototype.setElement=function(e){this.element=e},t.prototype.takeScreenshot=function(e){void 0===e&&(e={});var t=e.pixelRatio||1,i={context:null,pixelRatio:t,state:new n,stationary:!0};i.opacity=this._childrenRenderParameters.opacity,i.state.copy(this._childrenRenderParameters.state);var a=Math.round(t*i.state.width),h=Math.round(t*i.state.height),p={x:0,y:0,width:a,height:h},d={x:0,y:0,width:a,height:h},l=e.area;if(l&&(p.x=Math.round(t*l.x),p.y=Math.round(t*l.y),p.width=Math.round(t*l.width),p.height=Math.round(t*l.height)),void 0!==e.width&&void 0!==e.height){var u=e.width/e.height;if(p.height*u<p.width){var c=p.height*u;p.x+=Math.floor((p.width-c)/2),p.width=Math.floor(c)}else{var y=p.width/u;p.y+=Math.floor((p.height-y)/2),p.height=Math.floor(y)}d.width=e.width,d.height=e.height}else d.width=p.width,d.height=p.height;var f,g=document.createElement("canvas"),v=new Uint8Array(p.width*p.height*4);if(g.width=d.width,g.height=d.height,i.context=g.getContext("2d"),this.beforeRenderChildren(i,i),void 0!==e.rotation&&null!==e.rotation){var m=i.state,w=m.clone();w.viewpoint.rotation=e.rotation,i.state=w,this.renderChildren(i),i.state=m}else this.renderChildren(i);this.afterRenderChildren(i,i);try{f=i.context.getImageData(d.x,d.y,d.width,d.height)}catch(e){return r.reject(e)}0===p.x&&0===p.y&&p.width===a&&p.height===h&&0===d.x&&0===d.y&&d.width===a&&d.height===h||o.resampleHermite(v,p.width,p.height,f.data,d.width,d.height,!0),i.context.putImageData(f,d.x,d.y);var x=s[e.format?e.format.toLowerCase():"png"],b={dataURL:g.toDataURL(x,null!=e.quality?e.quality/100:1),x:d.x,y:d.y,width:d.width,height:d.height};return e.returnByteBuffer&&(b.data=v),r.resolve(b)},t.prototype.doRender=function(t){var i=this.element,r=i.style;if(this.visible){var n=t.state,a=t.pixelRatio,o=n.width,s=n.height;i.width=o*(this.hidpi?a:1),i.height=s*(this.hidpi?a:1),r.display="block",r.opacity=""+Math.min(this.opacity,this.parent.opacity),r.width=o+"px",r.height=s+"px",e.prototype.doRender.call(this,t)}else r.display="none"},t.prototype.prepareChildrenRenderParameters=function(e){var t=this._childrenRenderParameters;return t.context=this.element.getContext("2d"),t.pixelRatio=e.pixelRatio,t.state.copy(e.state),t.state.pixelRatio=this.hidpi?e.pixelRatio:1,t.stationary=e.stationary,t},t.prototype.beforeRenderChildren=function(e,t){var i=t.context,r=t.state;if(i.save(),r.spatialReference.isWrappable){var n=r.width,a=r.height,o=r.rotation,s=r.pixelRatio,h=this.hidpi?s:1,p=o*Math.PI/180,d=Math.abs(Math.cos(p)),l=Math.abs(Math.sin(p)),u=Math.round(n*h*d+a*h*l),c=r.worldScreenWidth*h;if(c<u){var y=n*h*.5,f=a*h*.5;p&&(i.translate(y,f),i.rotate(p),i.translate(-y,-f)),i.beginPath(),i.rect(y-.5*c,f-.5*u,c,u),i.closePath(),p&&(i.translate(y,f),i.rotate(-p),i.translate(-y,-f)),i.clip("evenodd")}}},t.prototype.afterRenderChildren=function(e,t){t.context.restore()},t.prototype.renderChild=function(e,t){t.context.save(),e.processRender(t),t.context.restore()},t}(a)}.apply(null,r))||(e.exports=n)},1454:function(e,t,i){var r,n;r=[i.dj.c(e.i),t],void 0===(n=function(e,t){function i(e){return e*r}Object.defineProperty(t,"__esModule",{value:!0});var r=Math.PI/180;t.snapToPixel=function(e,t,i){var r=i.resolution,n=i.size;return e[0]=r*(Math.round(t[0]/r)+n[0]%2*.5),e[1]=r*(Math.round(t[1]/r)+n[1]%2*.5),e},t.getOuterSize=function(e,t){var r=i(t.rotation),n=Math.abs(Math.cos(r)),a=Math.abs(Math.sin(r)),o=t.size,s=o[0],h=o[1];return e[0]=Math.round(h*a+s*n),e[1]=Math.round(h*n+s*a),e},t.getBBox=function(e,t,i,r){var n=t[0],a=t[1],o=r[0],s=r[1],h=.5*i;return e[0]=n-h*o,e[1]=a-h*s,e[2]=n+h*o,e[3]=a+h*s,e},t.bboxIntersects=function(e,t){var i=e[0],r=e[1],n=e[2],a=e[3],o=t[0],s=t[1],h=t[2],p=t[3];return!(i>h||n<o||r>p||a<s)}}.apply(null,r))||(e.exports=n)},1525:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(10),i(0),i(416),i(1454),i(152)],void 0===(n=function(e,t,i,r,n,a,o){var s=[0,0];return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._childrenCanvas=null,t._childrenRenderParameters={context:null,pixelRatio:1,state:new n,stationary:!0},t}return i(t,e),t.prototype.attach=function(t){return this._childrenCanvas||(this._childrenCanvas=document.createElement("canvas"),this._childrenRenderParameters.context=this._childrenCanvas.getContext("2d")),e.prototype.attach.call(this,t)},t.prototype.detach=function(t){e.prototype.detach.call(this,t),this._childrenCanvas=null,this._childrenRenderParameters.context=null},t.prototype.doRender=function(t){this.visible&&e.prototype.doRender.call(this,t)},t.prototype.prepareChildrenRenderParameters=function(e){var t=this._childrenCanvas,i=this._childrenRenderParameters,r=e.state,n=r.pixelRatio,o=i.state;o.copy(r);var h=a.getOuterSize(s,r),p=h[0],d=h[1];return p*=n,d*=n,o.size=s,o.viewpoint.rotation=0,t.width!==p||t.height!==d?(t.width=p,t.height=d):i.context.clearRect(0,0,p,d),i.pixelRatio=e.pixelRatio,i},t.prototype.beforeRenderChildren=function(e,t){this.sortChildren(function(e,t){return t.resolution-e.resolution})},t.prototype.afterRenderChildren=function(e,t){var i=e.context,r=e.state,n=t.context,a=t.state;0===r.rotation?i.drawImage(n.canvas,0,0):(i.save(),i.translate(.5*r.width,.5*r.height),i.rotate(r.rotation*Math.PI/180),i.translate(.5*-r.width,.5*-r.height),i.drawImage(n.canvas,.5*(r.width-a.width),.5*(r.height-a.height)),i.restore())},t}(o)}.apply(null,r))||(e.exports=n)},1609:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(11),i(6),i(18),i(54),i(47),i(113),i(1454),i(1444),i(413),i(149)],void 0===(n=function(e,t,i,r,n,a,o,s,h,p,d,l){var u=a.create(),c=[0,0],y=new l(0,0,0,0),f={container:null,fetchSource:null,requestUpdate:null,imageMaxWidth:2048,imageMaxHeight:2048,imageRotationSupported:!1,imageNormalizationSupported:!1,imageDataAccessRequired:!1,hidpi:!1};return function(){function e(e){this._imagePromise=null,this.hidpi=f.hidpi,this.imageDataAccessRequired=f.imageDataAccessRequired,this.imageMaxWidth=f.imageMaxWidth,this.imageMaxHeight=f.imageMaxHeight,this.imageRotationSupported=f.imageRotationSupported,this.imageNormalizationSupported=f.imageNormalizationSupported;var t=i({},f,e);this.container=t.container,this.disposeSource=t.disposeSource,this.fetchSource=t.fetchSource,this.requestUpdate=t.requestUpdate,this.imageMaxWidth=t.imageMaxWidth,this.imageMaxHeight=t.imageMaxHeight,this.imageRotationSupported=t.imageRotationSupported,this.imageNormalizationSupported=t.imageNormalizationSupported,this.hidpi=t.hidpi}return e.prototype.destroy=function(){},Object.defineProperty(e.prototype,"updating",{get:function(){return null!==this._imagePromise},enumerable:!0,configurable:!0}),e.prototype.update=function(e){var t=this,i=e.state,r=o.getInfo(i.spatialReference),n=this.hidpi?e.pixelRatio:1;if(this._imagePromise&&(this._imagePromise.cancel(),this._imagePromise=null),e.stationary){this.imageRotationSupported?(c[0]=i.width,c[1]=i.height):h.getOuterSize(c,i);var a=Math.floor(c[0]*n)>this.imageMaxWidth||Math.floor(c[1]*n)>this.imageMaxHeight,s=r&&(i.extent.xmin<r.valid[0]||i.extent.xmax>r.valid[1]),p=!this.imageNormalizationSupported&&s,d=!a&&!p,l=this.imageRotationSupported?i.rotation:0;if(d)this._imagePromise=this._singleExport(i,c,l,n);else{var u=Math.min(this.imageMaxWidth,this.imageMaxHeight);p&&(u=Math.min(i.worldScreenWidth,u)),this._imagePromise=this._tiledExport(i,u,l,n)}this._imagePromise.then(function(e){t._imagePromise=null;var i=t.container.children.slice();t.container.removeAllChildren(),e.forEach(t.container.addChild,t.container),t.disposeSource&&i.forEach(function(e){t.disposeSource(e.source)},t)}).catch(function(e){if(t._imagePromise=null,"cancel"!==e.dojoType)throw e})}},e.prototype.updateExports=function(e,t){for(var i=0,r=this.container.children;i<r.length;i++){var n=r[i];if(!n.visible||!n.attached)return;e(n,t)?console.error("ExportStrategy.updateExports doesn't support promise yet"):n.requestRender()}},e.prototype._export=function(e,t,i,n,a){var o=this;return r.resolve().then(function(){return o.fetchSource(e,Math.floor(t*a),Math.floor(i*a),{allowImageDataAccess:o.imageDataAccessRequired,rotation:n,pixelRatio:a})}).then(function(r){var o=new p(r);return o.x=r.x=e.xmin,o.y=r.y=e.ymax,o.resolution=r.resolution=e.width/t,r.rotation=n,r.pixelRatio=a,o.width=t,o.height=i,o})},e.prototype._singleExport=function(e,t,i,r){h.getBBox(u,e.center,e.resolution,t);var a=new n(u[0],u[1],u[2],u[3],e.spatialReference);return this._export(a,t[0],t[1],i,r).then(function(e){return[e]})},e.prototype._tiledExport=function(e,t,i,a){var o=this,h=s.create({size:t,spatialReference:e.spatialReference,scales:[e.scale]}),p=new d(h),l=p.getTileCoverage(e);if(!l)return null;var c=[];return l.forEach(function(r,s,h,d){y.set(r,s,h,d),p.getTileBounds(u,y);var l=new n(u[0],u[1],u[2],u[3],e.spatialReference);c.push(o._export(l,t,t,i,a))}),r.all(c)},e}()}.apply(null,r))||(e.exports=n)},2137:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(10),i(0),i(91),i(16),i(6),i(15),i(1),i(1525),i(1445),i(1446),i(1342),i(1609),i(1318)],void 0===(n=function(e,t,i,r,n,a,o,s,h,p,d,l,u,c,y){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._handles=new a,t.container=new l,t}return i(t,e),t.prototype.hitTest=function(e,t){var i=this.view.toMap(e,t);return o.resolve(new n({attributes:{},geometry:i}))},t.prototype.update=function(e){this.strategy.update(e),this.notifyChange("updating")},t.prototype.attach=function(){var e=this;this._tileContainer=new p,this.container.addChild(this._tileContainer),this.strategy=new c({container:this._tileContainer,fetchSource:this.fetchImage.bind(this),requestUpdate:function(){return e.requestUpdate()}}),this._handles.add([s.watch(this,"layer.exportImageServiceParameters.version",function(t){e._exportImageVersion!==t&&(e._exportImageVersion=t,e.requestUpdate())}),this.layer.on("redraw",function(){e.strategy.updateExports(function(t){var i=t.source.data.getContext("2d");return e.pixelData=e.layer.applyFilter(e._rawPixelData),e._drawPixelData(i,e.pixelData,0,0),null})})])},t.prototype.detach=function(){this.container.removeChild(this._tileContainer),this.strategy.destroy(),this._handles.removeAll()},t.prototype.moveStart=function(){},t.prototype.viewChange=function(){},t.prototype.moveEnd=function(){this.requestUpdate()},t.prototype.doRefresh=function(){this.requestUpdate()},t.prototype.isUpdating=function(){return this.attached&&(this.strategy.updating||this.updateRequested)},t.prototype.fetchImage=function(e,t,i,r){var n=this;return this._exportImageVersion=this.get("layer.exportImageServiceParameters.version"),this.layer.fetchImage(e,t,i,r).then(function(e){n._rawPixelData=e.pixelData,n.pixelData=n.layer.applyFilter(n._rawPixelData);var r=document.createElement("canvas");r.width=t,r.height=i;var a=r.getContext("2d");return n._drawPixelData(a,n.pixelData,0,0),n.notifyChange("updating"),new d.default(r)})},t.prototype._drawPixelData=function(e,t,i,r){if(t.pixelBlock){var n=t.pixelBlock,a=e.createImageData(n.width,n.height),o=n.getAsRGBA();a.data.set(o),e.putImageData(a,i,r)}},r([h.subclass("esri.views.2d.layers.ImageryLayerView2D")],t)}(h.declared(u,y))}.apply(null,r))||(e.exports=n)}}]);