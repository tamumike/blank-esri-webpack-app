(function(){(this||window).webpackJsonp.registerAbsMids({"esri/symbols/support/styleUtils":1253,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/symbols/support/styleUtils":1253,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/renderers/support/utils":1355,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/renderers/Renderer":1432,"esri/renderers/support/jsonUtils":1453,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/renderers/support/jsonUtils":1453,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/renderers/SimpleRenderer":1482,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/renderers/ClassBreaksRenderer":1492,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/renderers/HeatmapRenderer":1493,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/renderers/UniqueValueRenderer":1494,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/renderers/support/diffUtils":1495,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/core/numberUtils":1517,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/renderers/support/AuthoringInfo":1640,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/renderers/support/AuthoringInfoVisualVariable":1641,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/renderers/support/ClassBreakInfo":1642,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/renderers/support/HeatmapColorStop":1643,"C:/Users/mlinden.LUCIDENERGY/Desktop/Web Apps/Node Dev/blank-esri-webpack-app/node_modules/arcgis-js-api/renderers/support/UniqueValueInfo":1644})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[0,35],{1253:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(27),r(420),r(8),r(6),r(19),r(51),r(163),r(150),r(454),r(218)],void 0===(i=function(e,t,r,n,i,o,a,l,s,u,p,c){function f(e,t){return t.load().then(function(){var r=new s({disableExtraQuery:!0,query:"owner:"+b+" AND type:"+v+' AND typekeywords:"'+e+'"'});return t.queryItems(r)}).then(function(t){var r=t.results,n=null,o=e.toLowerCase();if(r&&Array.isArray(r))for(var a=0,l=r;a<l.length;a++){var s=l[a];if(s.typeKeywords.some(function(e){return e.toLowerCase()===o})&&s.type===v&&s.owner===b){n=s;break}}if(n)return n.load();throw new i("symbolstyleutils:style-not-found","The style '"+e+"' could not be found",{styleName:e})})}function d(e,t){return e.styleUrl?function(e,t){return m(e).then(function(t){return{data:t.data,baseUrl:a.removeFile(e),styleUrl:e}})}(e.styleUrl):e.styleName?function(e,t){var r,n=t.portal||l.getDefault(),i=n.url+" - "+(n.user&&n.user.username)+" - "+e;return h[i]||(h[i]=f(e,n).then(function(e){return r=e,e.fetchData()}).then(function(t){return{data:t,baseUrl:r.itemUrl,styleName:e}})),h[i]}(e.styleName,t):o.reject(new i("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function y(e,t,r){for(var l=e.data,s={portal:r.portal,url:a.urlToObject(e.baseUrl),origin:"portal-item"},f=0,d=l.items;f<d.length;f++){var y=function(i){if(i.name!==t)return"continue";var o=a.read(i.webRef,s),l={portal:r.portal,url:a.urlToObject(a.removeFile(o)),origin:"portal-item"};return{value:m(o).then(function(o){var f=u.fromJSON(o.data,l);if(f&&f.isInstanceOf(n.BaseSymbol3D)){if(i.thumbnail)if(i.thumbnail.href){var d=a.read(i.thumbnail.href,s);f.thumbnail=new c.default({url:d})}else i.thumbnail.imageData&&(f.thumbnail=new c.default({url:"data:image/png;base64,"+i.thumbnail.imageData}));e.styleUrl?f.styleOrigin=new p({portal:r.portal,styleUrl:e.styleUrl,name:t}):e.styleName&&(f.styleOrigin=new p({portal:r.portal,styleName:e.styleName,name:t}))}return f})}}(d[f]);if("object"==typeof y)return y.value}return o.reject(new i("symbolstyleutils:symbol-name-not-found","The symbol name '"+t+"' could not be found",{symbolName:t}))}function m(e){var t={responseType:"json",query:{f:"json"}};return r(a.normalize(e),t)}Object.defineProperty(t,"__esModule",{value:!0});var h={};t.fetchStyle=d,t.resolveWebStyleSymbol=function(e,t){return e.name?d(e,t).then(function(r){return y(r,e.name,t)}):o.reject(new i("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))},t.fetchSymbolFromStyle=y,t.styleNameFromItem=function(e){for(var t=0,r=e.typeKeywords;t<r.length;t++){var n=r[t];if(/^Esri.*Style$/.test(n)&&"Esri Style"!==n)return n}};var b="esri_en",v="Style"}.apply(null,n))||(e.exports=i)},1355:function(e,t,r){var n,i;n=[r(442),r(31),r(5),r(1517),r(443)],void 0===(i=function(e,t,r,n,i){function o(e,t,r){var n="";return 0===t?n=l.lt+" ":t===r&&(n=l.gt+" "),n+e}var a={},l={lte:"<=",gte:">=",lt:"<",gt:">",pct:"%",ld:"â€“"},s={millisecond:0,second:1,minute:2,hour:3,day:4,month:5,year:6},u={millisecond:{dateOptions:{formatLength:"long"},timeOptions:{formatLength:"medium"}},second:{dateOptions:{formatLength:"long"},timeOptions:{formatLength:"medium"}},minute:{dateOptions:{formatLength:"long"},timeOptions:{formatLength:"short"}},hour:{dateOptions:{formatLength:"long"},timeOptions:{formatLength:"short"}},day:{selector:"date",dateOptions:{formatLength:"long"}},month:{selector:"date",dateOptions:{formatLength:"long"}},year:{selector:"date",dateOptions:{selector:"year"}}},p={dateOptions:{formatLength:"short",fullYear:!0},timeOptions:{formatLength:"short"}};return r.mixin(a,{meterIn:{inches:1/.0254,feet:1/.3048,"us-feet":3.28084,yards:1/.9144,miles:1/1609.344,"nautical-miles":1/1852,millimeters:1e3,centimeters:100,decimeters:10,meters:1,kilometers:.001,"decimal-degrees":180/20015077},timelineDateFormatOptions:{selector:"date",dateOptions:{formatLength:"short",fullYear:!0}},formatDate:function(t,n){var o,a=[];null==t||t instanceof Date||(t=new Date(t)),n=n||{};var l=(n=r.mixin({},n)).selector?n.selector.toLowerCase():null,s=!l||l.indexOf("time")>-1,u=!l||l.indexOf("date")>-1;return s&&(n.timeOptions=n.timeOptions||p.timeOptions,n.timeOptions&&(n.timeOptions=r.mixin({},n.timeOptions),n.timeOptions.selector=n.timeOptions.selector||"time",a.push(n.timeOptions))),u&&(n.dateOptions=n.dateOptions||p.dateOptions,n.dateOptions&&(n.dateOptions=r.mixin({},n.dateOptions),n.dateOptions.selector=n.dateOptions.selector||"date",a.push(n.dateOptions))),a&&a.length?o=1==(a=a.map(function(r){return e.format(t,r)})).length?a[0]:i["dateTimeFormat-medium"].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(e,t){return a[t]}):o=e.format(t),o},createColorStops:function(e){var t=e.values,r=e.colors,i=e.labelIndexes,l=e.isDate,s=e.dateFormatOptions;return t.map(function(e,u){var p,c=null;(!i||i.indexOf(u)>-1)&&((p=l?a.formatDate(e,s):n.format(e))&&(c=o(p,u,t.length-1)));return{value:e,color:r[u],label:c}})},updateColorStops:function(e){var t,r=e.stops,i=e.changes,l=e.isDate,s=e.dateFormatOptions,u=[],p=r.map(function(e){return e.value});i.forEach(function(e){u.push(e.index),p[e.index]=e.value}),t=n.round(p,{indexes:u}),r.forEach(function(e,i){if(e.value=p[i],null!=e.label){var u,c=null;(u=l?a.formatDate(t[i],s):n.format(t[i]))&&(c=o(u,i,r.length-1)),e.label=c}})},createClassBreakLabel:function(e){var t=e.minValue,r=e.maxValue,i=e.isFirstBreak,o=e.normalizationType,a=i?"":l.gt+" ",s="percent-of-total"===o?l.pct:"";return t=null==t?"":n.format(t),r=null==r?"":n.format(r),a+t+s+" "+l.ld+" "+r+s},setLabelsForClassBreaks:function(e){var t=e.classBreakInfos,r=e.classificationMethod,i=e.normalizationType,o=[];t&&t.length&&("standard-deviation"===r?console.log("setLabelsForClassBreaks: cannot set labels for class breaks generated using 'standard-deviation' method."):e.round?(o.push(t[0].minValue),t.forEach(function(e){o.push(e.maxValue)}),o=n.round(o),t.forEach(function(e,t){e.label=a.createClassBreakLabel({minValue:0===t?o[0]:o[t],maxValue:o[t+1],isFirstBreak:0===t,normalizationType:i})})):t.forEach(function(e,t){e.label=a.createClassBreakLabel({minValue:e.minValue,maxValue:e.maxValue,isFirstBreak:0===t,normalizationType:i})}))},updateClassBreak:function(e){var t,r=e.classBreaks,n=e.classificationMethod,i=e.normalizationType,o=e.change,l=o.index,s=o.value,u=-1,p=-1,c=r.length;"standard-deviation"!==n?(0===l?u=l:l===c?p=l-1:(p=l-1,u=l),u>-1&&u<c&&((t=r[u]).minValue=s,t.label=a.createClassBreakLabel({minValue:t.minValue,maxValue:t.maxValue,isFirstBreak:0===u,normalizationType:i})),p>-1&&p<c&&((t=r[p]).maxValue=s,t.label=a.createClassBreakLabel({minValue:t.minValue,maxValue:t.maxValue,isFirstBreak:0===p,normalizationType:i}))):console.log("updateClassBreak: cannot update labels for class breaks generated using 'standard-deviation' method.")},calculateDateFormatInterval:function(e){var t,r,n,i,o,a,l,u,p,c,f=e.length,d=1/0;for(e=e.map(function(e){return new Date(e)}),t=0;t<f-1;t++){for(n=e[t],o=[],u=1/0,p="",r=t+1;r<f;r++)i=e[r],a=(n.getFullYear()!==i.getFullYear()?"year":n.getMonth()!==i.getMonth()&&"month")||n.getDate()!==i.getDate()&&"day"||n.getHours()!==i.getHours()&&"hour"||n.getMinutes()!==i.getMinutes()&&"minute"||n.getSeconds()!==i.getSeconds()&&"second"||"millisecond",(l=s[a])<u&&(u=l,p=a),o.push(a);u<d&&(d=u,c=p)}return c},createUniqueValueLabel:function(e){var t=e.value,r=e.fieldInfo,i=e.domain,o=e.dateFormatInterval,l=String(t),s=i&&i.codedValues?i.getName(t):null;return s?l=s:"number"==typeof t&&(l=r&&"date"===r.type?a.formatDate(t,o&&u[o]):n.format(t)),l},cloneColorVariable:function(e){var n;return e&&((n=r.mixin({},e)).colors=function(e){return e&&e.map(function(e){return new t(e)})}(n.colors),n.stops=n.stops&&n.stops.map(function(e){return(e=r.mixin({},e)).color&&(e.color=new t(e.color)),e}),n.legendOptions&&(n.legendOptions=r.mixin({},n.legendOptions))),n},cloneOpacityVariable:function(e){var t;if(e){var n=(t=r.mixin({},e)).opacityValues;n&&(t.opacityValues=n.slice(0)),(n=t.stops)&&(t.stops=n.map(function(e){return r.mixin({},e)})),(n=t.legendOptions)&&(t.legendOptions=r.mixin({},n))}return t},cloneSizeVariable:function(e){var t;if(e){(t=r.mixin({},e)).stops&&(t.stops=t.stops.map(function(e){return r.mixin({},e)}));var n=t.minSize;n&&"object"==typeof n&&(t.minSize=a.cloneSizeVariable(n)),(n=t.maxSize)&&"object"==typeof n&&(t.maxSize=a.cloneSizeVariable(n)),(n=t.legendOptions)&&(t.legendOptions=r.mixin({},n),(n=n.customValues)&&(t.legendOptions.customValues=n.slice(0)))}return t}}),a}.apply(null,n))||(e.exports=i)},1432:function(e,t,r){var n,i;n=[r(35),r(4),r(12),r(24),r(32),r(5),r(8),r(151),r(217),r(31),r(1355),r(1640)],void 0===(i=function(e,t,r,n,i,o,a,l,s,u,p,c){var f="size",d=n({sizeInfo:f,colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),y=n({widthAndDepth:"width-and-depth"}),m=n({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"}),h=(n({classedSize:"classed-size",classedColor:"classed-color",univariateColorSize:"univariate-color-size"}),n({esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),n({percentTotal:"percent-of-total"}),Math.PI),b=s.opacityToTransparency,v=s.transparencyToOpacity;return e([t,r],{declaredClass:"esri.renderers.Renderer",properties:{authoringInfo:{type:c,value:null,json:{write:!0}},requiredFields:{dependsOn:["visualVariables"],get:function(){var e=Object.create(null);return this.collectRequiredFields(e),Object.keys(e).sort()}},type:{type:String,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}},visualVariables:{json:{read:{source:["visualVariables","rotationType","rotationExpression"],reader:function(e,t){return this._readVariables(e,t)}},write:function(e,t,r,n){var i=[];e.forEach(function(e,t){e.type===f?i.push(this._writeSizeInfo(e,n,t)):"color"===e.type?i.push(this._writeColorInfo(e,n,t)):"opacity"===e.type?i.push(this._writeOpacityInfo(e,n,t)):"rotation"===e.type&&i.push(this._writeRotationInfo(e,n,t))},this),t.visualVariables=i}}}},constructor:function(){this._cache={}},_rotationRE:/^\[([^\]]+)\]$/i,_viewScaleRE:/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i,_visualVariablesSetter:function(e){var t=this._cache;this.visualVariables&&this.visualVariables.forEach(function(e,r){t.hasOwnProperty(r)&&(t[r]=null)},this),e&&e.some(function(e){return!!e.target})&&e.sort(function(e,t){return e.target===t.target?0:e.target?1:-1}),e&&e.forEach(function(e,r){"color"===e.type?t[r]=this._processColorInfo(e):"opacity"===e.type?t[r]=this._processOpacityInfo(e):e.type===f?t[r]=this._processSizeInfo(e):"rotation"===e.type&&(t[r]=this._processRotationInfo(e))},this),this._set("visualVariables",e)},getSymbol:function(e,t){},getVisualVariableValues:function(e,t){var r,n=this.visualVariables;return n&&(r=n.map(function(r){var n,i=r.type,a=i+"Info";switch((t=o.mixin({},t))[a]=r,i){case f:n=this.getSize(e,t);break;case"color":n=this.getColor(e,t);break;case"opacity":n=this.getOpacity(e,t);break;case"rotation":n=this.getRotationAngle(e,t)}return{variable:r,value:n}},this).filter(function(e){return null!=e.value},this)),r},hasVisualVariables:function(e,t){return e?!!this.getVisualVariablesForType(e,t):!!(this.getVisualVariablesForType(f,t)||this.getVisualVariablesForType("color",t)||this.getVisualVariablesForType("opacity",t)||this.getVisualVariablesForType("rotation",t))},getVisualVariablesForType:function(e,t){var r,n=this.visualVariables;return n&&(r=n.filter(function(r){return r.type===e&&("string"==typeof t?r.target===t:!1!==t||!r.target)}))&&0===r.length&&(r=void 0),r},getSize:function(e,t){var r=this._getVarInfo(t&&t.sizeInfo,f),n=r.variable,i=this._cache[r.cacheKey],o=null;if(n){var a=n.minSize,l=n.maxSize,s="object"==typeof a&&a?this._getSize(e,a,i&&i.minSize,t):a,u="object"==typeof l&&l?this._getSize(e,l,i&&i.maxSize,t):l;o=this._getSize(e,n,i&&i.root,t,[s,u])}return o},getSizeRangeAtScale:function(e,t){var r,n=this._getVarInfo(e,f),i=this._cache[n.cacheKey],o={scale:t};if((e=n.variable)&&t){var a=e.minSize,l=e.maxSize,s="object"==typeof a&&a?this._getSize({},a,i&&i.minSize,o):a,u="object"==typeof l&&l?this._getSize({},l,i&&i.maxSize,o):l;if(null!=s||null!=u){if(s>u){var p=u;u=s,s=p}r={minSize:s,maxSize:u}}}return r},getColor:function(e,t){var r=this._getVarInfo(t&&t.colorInfo,"color");return this._getColorComponent(e,r.variable,this._cache[r.cacheKey],t)},getOpacity:function(e,t){var r=this._getVarInfo(t&&t.opacityInfo,"opacity");return this._getColorComponent(e,r.variable,this._cache[r.cacheKey],t,!0)},getRotationAngle:function(e,t){var r=this._getVarInfo(t&&t.rotationInfo,"rotation"),n=r.variable,i=this._cache[r.cacheKey],o=n.axis||"heading",a="heading"===o&&"arithmetic"===n.rotationType?90:0,s="heading"===o&&"arithmetic"===n.rotationType?-1:1,u=n.field,p=i&&i.compiledFunc,c=e.attributes,f=0;return(u||p)&&(p?f=l.executeFunction(p,l.createExecContext(e,l.getViewInfo(t))):"function"==typeof u?f=u.apply(this,arguments):c&&(f=c[u]||0),f="number"!=typeof f||isNaN(f)?null:a+s*f),f},collectRequiredFields:function(e){var t=[];this.visualVariables&&(t=t.concat(this.visualVariables)),t.forEach(function(t){t&&(t.field&&(e[t.field]=!0),t.normalizationField&&(e[t.normalizationField]=!0),t.valueExpression&&l.extractFieldNames(t.valueExpression).forEach(function(t){e[t]=!0}))})},_getVarInfo:function(e,t){var r;if(e&&e.type===t&&this.visualVariables)r=this.visualVariables.indexOf(e),e=this.visualVariables[r];else if(this.visualVariables){var n=this.getVisualVariablesForType(t);e=n&&n[0],r=this.visualVariables.indexOf(e)}return{variable:e,cacheKey:r}},_readSizeInfo:function(e){return e.axis&&(e.axis=y.fromJSON(e.axis)),e.valueUnit&&(e.valueUnit=m.fromJSON(e.valueUnit)),e},_readColorInfo:function(e){return e&&(e.colors&&e.colors.forEach(function(t,r){Array.isArray(t)?e.colors[r]=u.fromJSON(t):e.colors[r]=new u(t)}),e.stops&&e.stops.forEach(function(t,r){t.color&&Array.isArray(t.color)?e.stops[r].color=u.fromJSON(t.color):t.color&&(e.stops[r].color=new u(t.color))})),e},_readOpacityInfo:function(e){var t;return e&&((t=o.mixin({},e)).transparencyValues&&(t.opacityValues=t.transparencyValues.map(v),delete t.transparencyValues),t.stops&&(t.stops=t.stops.map(function(e){return(e=o.mixin({},e)).opacity=v(e.transparency),delete e.transparency,e}))),t},_readVariables:function(e,t){e&&(e=e.map(function(e){return(e=o.clone(e)).type=d.fromJSON(e.type),e.type===f?e=this._readSizeInfo(e):"color"===e.type?e=this._readColorInfo(e):"opacity"===e.type&&(e=this._readOpacityInfo(e)),e},this));var r=t.rotationType,n=t.rotationExpression;if(n){var i={type:"rotation",rotationType:r},a=n.match(this._rotationRE);a&&a[1]&&(i.field=a[1],e||(e=[]),e.push(i))}return e},_createCache:function(e){var t=e&&e.valueExpression,r=l.createSyntaxTree(t),n=l.createFunction(r),i=!(!e||!e.expression)||this._viewScaleRE.test(t);return{ipData:this._interpolateData(e),hasExpr:!!t,compiledFunc:n,isScaleDriven:i}},_processColorInfo:function(e){return e&&(e.colors&&e.colors.forEach(function(t,r){t instanceof u||(e.colors[r]=new u(t))}),e.stops&&e.stops.forEach(function(t,r){!t.color||t.color instanceof u||(e.stops[r].color=new u(t.color))}),this._sortStops(e.stops)),this._createCache(e)},_processOpacityInfo:function(e){return this._sortStops(e&&e.stops),this._createCache(e)},_processSizeInfo:function(e){return e.stops&&Array.isArray(e.stops)?e.stops=this._processSizeInfoStops(e.stops):(e.minSize=e.minSize&&this._processSizeInfoSize(e.minSize),e.maxSize=e.maxSize&&this._processSizeInfoSize(e.maxSize)),{root:this._createCache(e),minSize:this._createCache(e.minSize),maxSize:this._createCache(e.maxSize)}},_processSizeInfoSize:function(e){return"object"==typeof e?e.stops=this._processSizeInfoStops(e.stops):e=i.toPt(e),e},_processSizeInfoStops:function(e){return e&&Array.isArray(e)&&(e.forEach(function(e){e.size=i.toPt(e.size)}),this._sortStops(e)),e},_sortStops:function(e){e&&Array.isArray(e)&&e.sort(function(e,t){return e.value-t.value})},_processRotationInfo:function(e){return this._createCache(e)},_getSize:function(e,t,r,n,i){var o=e.attributes,a=t.field,s=t.stops,u=0,c=r&&r.hasExpr,f=r&&r.compiledFunc,d=r&&r.ipData,y=r&&r.isScaleDriven,m="number"==typeof e,b=m?e:null;if(a||y||c){var v,g=n&&n.scale,w=i?i[0]:t.minSize,S=i?i[1]:t.maxSize,V=t.minDataValue,x=t.maxDataValue,O=t.valueUnit||"unknown",I=t.valueRepresentation,_=t.scaleBy,k=t.normalizationField,j=o?parseFloat(o[k]):void 0,C=n&&n.shape;if(y?b=null==g?this._getAverageValue(t):g:"number"!=typeof b&&(c?b=l.executeFunction(f,l.createExecContext(e,l.getViewInfo(n))):"function"==typeof a?b=a.apply(this,arguments):o&&(b=o[a])),null==b||k&&!m&&(isNaN(j)||0===j))return null;if(isNaN(j)||m||(b/=j),s){var z,D=this._lookupData(b,d),N=D[0],E=D[1];N===E?u=s[N].size:u=(z=s[N].size)+(s[E].size-z)*D[2]}else if(null!=w&&null!=S&&null!=V&&null!=x)if(b<=V)u=w;else if(b>=x)u=S;else if(v=(b-V)/(x-V),"area"===_&&C){var T="circle"===C,F=T?h*Math.pow(w/2,2):w*w,U=F+v*((T?h*Math.pow(S/2,2):S*S)-F);u=T?2*Math.sqrt(U/h):Math.sqrt(U)}else u=w+v*(S-w);else if("unknown"===O)null!=w&&null!=V?(w&&V?(v=b/V,u="circle"===C?2*Math.sqrt(v*Math.pow(w/2,2)):"square"===C||"diamond"===C||"image"===C?Math.sqrt(v*Math.pow(w,2)):v*w):u=b+(w||V),u=u<w?w:u,null!=S&&u>S&&(u=S)):u=b;else{var M=(n&&n.resolution?n.resolution:1)*p.meterIn[O];"area"===I?(u=Math.sqrt(b/h)/M,u*=2):(u=b/M,"radius"!==I&&"distance"!==I||(u*=2)),null!=w&&u<w&&(u=w),null!=S&&u>S&&(u=S)}}else t&&null==(u=s&&s[0]&&s[0].size)&&(u=t.minSize);return isNaN(u)?0:u},_getAverageValue:function(e){var t,r,n=e.stops;return n?(t=n[0].value,r=n[n.length-1].value):(t=e.minDataValue||0,r=e.maxDataValue||0),(t+r)/2},_getColorComponent:function(e,t,r,n,i,o){var a,s=e.attributes,u=t&&t.field,p="number"==typeof e,c=p?e:null,f=r&&r.hasExpr,d=r&&r.compiledFunc,y=r&&r.ipData;if(u||f){var m=t.normalizationField,h=s?parseFloat(s[m]):void 0;"number"!=typeof c&&(f?c=l.executeFunction(d,l.createExecContext(e,l.getViewInfo(n))):"function"==typeof u?c=u.apply(this,arguments):s&&(c=s[u])),null==c||m&&!p&&(isNaN(h)||0===h)||(isNaN(h)||p||(c/=h),a=i?this._getOpacity(c,t,y):this._getColor(c,t,y))}else if(t){var b=t.stops;i?null==(a=b&&b[0]&&b[0].opacity)&&(a=t.opacityValues&&t.opacityValues[0]):a=b&&b[0]&&b[0].color||t.colors&&t.colors[0]}return o&&(o.data=c,o.value=a),o||a},_interpolateData:function(e){var t;if(e)if(e.colors||e.opacityValues){var r,n=(e.colors||e.opacityValues).length,i=e.minDataValue,o=(e.maxDataValue-i)/(n-1);for(t=[],r=0;r<n;r++)t[r]=i+r*o}else e.stops&&(t=e.stops.map(function(e){return e.value||0}));return t},_getOpacity:function(e,t,r){var n,i=this._lookupData(e,r);if(t=t||this.opacityInfo,i){var o,a=i[0],l=i[1];a===l?n=this._getOpacValue(t,a):n=(o=this._getOpacValue(t,a))+(this._getOpacValue(t,l)-o)*i[2]}return n},_getOpacValue:function(e,t){return e.opacityValues?e.opacityValues[t]:e.stops[t].opacity},_getColor:function(e,t,r){var n,i=this._lookupData(e,r);if(t=t||this.colorInfo,i){var o=i[0],a=i[1];n=o===a?this._getColorObj(t,o):u.blendColors(this._getColorObj(t,o),this._getColorObj(t,a),i[2]),n=new u(n)}return n},_getColorObj:function(e,t){return e.colors?e.colors[t]:e.stops[t].color},_lookupData:function(e,t){var r;if(t){var n=0,i=t.length-1;t.some(function(t,r){return e<t?(i=r,!0):(n=r,!1)}),r=[n,i,(e-t[n])/(t[i]-t[n])]}return r},_processForContext:function(e,t,r){if(t&&"web-scene"===t.origin){var n=null!=e.expression,i=null!=e.valueExpressionTitle&&"rotation"===e.type;t.messages&&(n&&t.messages.push(new a("property:unsupported",e.type+"VisualVariable.expression is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:r+".expression",context:t})),i&&t.messages.push(new a("property:unsupported",e.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:r+".valueExpressionTitle",context:t}))),n&&delete e.expression,i&&delete e.valueExpressionTitle}else e.type===f&&this._convertExpressionToArcade(e)},_writeRotationInfo:function(e,t,r){return e&&(e=o.mixin({},e),this._processForContext(e,t,"visualVariables["+r+"]"),e.type=d.toJSON(e.type),e=o.fixJson(e,!0)),e},_convertExpressionToArcade:function(e){e&&e.expression&&(e.valueExpression="$view.scale")},_writeSizeInfo:function(e,t,r){if(e){e=o.mixin({},e),this._processForContext(e,t,"string"==typeof r?r:"visualVariables["+r+"]");var n=e.minSize,i=e.maxSize;n&&(e.minSize="number"==typeof n?n:this._writeSizeInfo(n,t,"visualVariables["+r+"].minSize")),i&&(e.maxSize="number"==typeof i?i:this._writeSizeInfo(i,t,"visualVariables["+r+"].maxSize"));var a=e.legendOptions,l=e.type,s=e.axis;e.type=d.toJSON(l),s&&(e.axis=y.toJSON(s)),a&&(e.legendOptions=o.mixin({},a),(a=a.customValues)&&(e.legendOptions.customValues=a.slice(0))),e.stops&&(e.stops=e.stops.map(function(e){return null===(e=o.mixin({},e)).label&&delete e.label,e})),e=o.fixJson(e,!0)}return e},_writeColorInfo:function(e,t,r){return e&&(e=o.mixin({},e),this._processForContext(e,t,"visualVariables["+r+"]"),e.type=d.toJSON(e.type),e.colors&&(e.colors=e.colors.map(function(e){return u.toJSON(e)})),e.stops&&(e.stops=e.stops.map(function(e){return(e=o.mixin({},e)).color&&(e.color=u.toJSON(e.color)),null==e.value&&(e.value=0),null===e.label&&delete e.label,e})),e.legendOptions&&(e.legendOptions=o.mixin({},e.legendOptions)),e=o.fixJson(e,!0)),e},_writeOpacityInfo:function(e,t,r){var n;return e&&(n=o.mixin({},e),this._processForContext(n,t,"visualVariables["+r+"]"),n.type=d.toJSON(n.type),n.opacityValues&&(n.transparencyValues=n.opacityValues.map(b),delete n.opacityValues),n.stops&&(n.stops=n.stops.map(function(e){return(e=o.mixin({},e)).transparency=b(e.opacity),delete e.opacity,null===e.label&&delete e.label,e})),n.legendOptions&&(n.legendOptions=o.mixin({},n.legendOptions)),n=o.fixJson(n,!0)),n}})}.apply(null,n))||(e.exports=i)},1453:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(8),r(82),r(114),r(1492),r(1493),r(1482),r(1494)],void 0===(i=function(e,t,r,n,i,o,a,l,s){function u(e,t,r){if(!e)return null;if(e&&(e.styleName||e.styleUrl)&&"uniqueValue"!==e.type)return r&&r.messages&&r.messages.push(new i("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:r})),null;var n=function(e){return e&&c[e.type]||null}(e);if(n){var o=new n;return o.read(e,r),o}return r&&r.messages&&e&&r.messages.push(new i("renderer:unsupported","Renderers of type '"+(e.type||"unknown")+"' are not supported",{definition:e,context:r})),null}function p(e,t,n){return e?n&&"web-scene"===n.origin&&"heatmap"===e.type?(n.messages&&n.messages.push(new r("renderer:unsupported","Renderer of type '"+e.declaredClass+"' are not supported in scenes.",{renderer:e,context:n})),null):e.write(t,n):null}Object.defineProperty(t,"__esModule",{value:!0});var c={simple:l,uniqueValue:s,classBreaks:o,heatmap:a};t.read=u,t.writeTarget=function(e,t,r,i){var o=p(e,{},i);o&&n.setDeepValue(r,o,t)},t.write=p,t.fromJSON=function(e,t){return u(e,0,t)}}.apply(null,n))||(e.exports=i)},1482:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(2),r(0),r(5),r(1),r(1432),r(150),r(204)],void 0===(i=function(e,t,r,n,i,o,a,l,s){return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.description=null,t.label=null,t.symbol=null,t.type="simple",t}var a;return r(t,e),a=t,t.prototype.writeSymbolWebScene=function(e,t,r,n){l.writeTarget(e,t,r,n)},t.prototype.writeSymbol=function(e,t,r,n){l.writeTarget(e,t,r,n)},t.prototype.readSymbol=function(e,t,r){return l.read(e,t,r)},t.prototype.getSymbol=function(e,t){return this.symbol},t.prototype.getSymbols=function(){return this.symbol?[this.symbol]:[]},t.prototype.clone=function(){return new a({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:i.clone(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})},n([o.property({type:String,json:{write:!0}})],t.prototype,"description",void 0),n([o.property({type:String,json:{write:!0}})],t.prototype,"label",void 0),n([o.property({types:s.rendererTypes})],t.prototype,"symbol",void 0),n([o.writer("web-scene","symbol",{symbol:{types:s.rendererTypes3D}})],t.prototype,"writeSymbolWebScene",null),n([o.writer("symbol")],t.prototype,"writeSymbol",null),n([o.reader("symbol")],t.prototype,"readSymbol",null),a=n([o.subclass("esri.renderers.SimpleRenderer")],t)}(o.declared(a))}.apply(null,n))||(e.exports=i)},1492:function(e,t,r){var n,i;n=[r(35),r(5),r(24),r(8),r(7),r(38),r(151),r(62),r(119),r(150),r(204),r(1432),r(1427),r(1642)],void 0===(i=function(e,t,r,n,i,o,a,l,s,u,p,c,f,d){var y=i.getLogger("esri.renderers.ClassBreaksRenderer");f=f.LegendOptions,d=d.ClassBreakInfo;var m=r({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"}),h=o.ensureType(d),b=e(c,{declaredClass:"esri.renderers.ClassBreaksRenderer",properties:{backgroundFillSymbol:{types:{base:l,key:"type",typeMap:{"simple-fill":p.types.typeMap["simple-fill"],"picture-fill":p.types.typeMap["picture-fill"],"polygon-3d":p.types.typeMap["polygon-3d"]}},value:null,json:{origins:{"web-scene":{read:u.read,write:{target:{backgroundFillSymbol:{type:s}},writer:u.writeTarget}}},read:u.read,write:u.writeTarget}},classBreakInfos:{type:[d],json:{read:function(e,t,r){if(Array.isArray(e)){var n=t.minValue;return e.map(function(e){var t=new d;return t.read(e,r),null==t.minValue&&(t.minValue=n),null==t.maxValue&&(t.maxValue=t.minValue),n=t.maxValue,t})}},write:function(e,t,r,n){e=e.map(function(e){return e.write({},n)}),this._areClassBreaksConsecutive()&&e.forEach(function(e){delete e.classMinValue}),t[r]=e}}},minValue:{type:Number,readOnly:!0,dependsOn:["classBreakInfos"],get:function(){return this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0},json:{read:!1,write:{overridePolicy:function(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}},defaultLabel:{type:String,value:null,json:{write:!0}},defaultSymbol:{types:p.rendererTypes,value:null,json:{origins:{"web-scene":{read:u.read,write:{target:{defaultSymbol:{types:p.rendererTypes3D}},writer:u.writeTarget}}},read:u.read,write:u.writeTarget}},valueExpression:{type:String,value:null,json:{write:!0}},valueExpressionTitle:{type:String,value:null,json:{write:!0}},compiledFunc:{dependsOn:["valueExpression"],get:function(){return a.createFunction(this.valueExpression)}},legendOptions:{type:f,value:null,json:{write:!0}},field:{value:null,cast:function(e){return null==e?e:"function"==typeof e?e:o.ensureString(e)},json:{type:String,write:function(e,t,r,i){"string"==typeof e?t[r]=e:i&&i.messages?i.messages.push(new n("property:unsupported","ClassBreaksRenderer.field set to a function cannot be written to JSON")):y.error(".field: cannot write field to JSON since it's not a string value")}}},isMaxInclusive:!0,normalizationField:{type:String,value:null,json:{write:!0}},normalizationTotal:{type:Number,value:null,json:{write:!0}},normalizationType:{type:String,value:null,dependsOn:["normalizationField","normalizationTotal"],get:function(){var e=this._get("normalizationType"),t=!!this.normalizationField,r=null!=this.normalizationTotal;return t||r?(e=t?"field":r&&"percent-of-total",t&&r&&console.warn("warning: both normalizationField and normalizationTotal are set!")):"field"!==e&&"percent-of-total"!==e||(e=null),e},json:{read:m.fromJSON,write:function(e,t){var r=m.toJSON(e);r&&(t.normalizationType=r)}}},requiredFields:{dependsOn:["field","normalizationField","valueExpression"]},type:{value:"class-breaks",json:{write:function(e,t){t.type="classBreaks"}}}},constructor:function(){this.classBreakInfos=[]},addClassBreakInfo:function(e,r,n){var i;i="number"==typeof e?new d({minValue:e,maxValue:r,symbol:n}):h(t.clone(e)),this.classBreakInfos.push(i),1===this.classBreakInfos.length&&this.notifyChange("minValue")},removeClassBreakInfo:function(e,t){var r,n,i=this.classBreakInfos.length;for(n=0;n<i;n++)if((r=[this.classBreakInfos[n].minValue,this.classBreakInfos[n].maxValue])[0]==e&&r[1]==t){this.classBreakInfos.splice(n,1);break}},getBreakIndex:function(e,t){var r,n,i,o=this.field,l=e.attributes,s=this.classBreakInfos.length,u=this.isMaxInclusive;if(this.valueExpression)r=a.executeFunction(this.compiledFunc,a.createExecContext(e,a.getViewInfo(t)));else if("function"==typeof o)r=o(e);else{r=parseFloat(l[o]);var p,c,f=this.normalizationType;if(f)if(p=parseFloat(this.normalizationTotal),c=parseFloat(l[this.normalizationField]),"log"===f)r=Math.log(r)*Math.LOG10E;else if("percent-of-total"!==f||isNaN(p)){if("field"===f&&!isNaN(c)){if(isNaN(r)||isNaN(c))return-1;r/=c}}else r=r/p*100}if(null!=r&&!isNaN(r)&&"number"==typeof r)for(n=0;n<s;n++)if((i=[this.classBreakInfos[n].minValue,this.classBreakInfos[n].maxValue])[0]<=r&&(u?r<=i[1]:r<i[1]))return n;return-1},getClassBreakInfo:function(e,t){var r=this.getBreakIndex(e,t);return-1!==r?this.classBreakInfos[r]:null},getSymbol:function(e,t){var r=this.getBreakIndex(e,t);return r>-1?this.classBreakInfos[r].symbol:this.defaultSymbol},getSymbols:function(){var e=[];return this.classBreakInfos.forEach(function(t){t.symbol&&e.push(t.symbol)}),this.defaultSymbol&&e.push(this.defaultSymbol),e},clone:function(){return new b({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:t.clone(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:t.clone(this.visualVariables),legendOptions:t.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})},collectRequiredFields:function(e){this.inherited(arguments),[this.field,this.normalizationField].forEach(function(t){t&&(e[t]=!0)}),this.valueExpression&&a.extractFieldNames(this.valueExpression).forEach(function(t){e[t]=!0})},_areClassBreaksConsecutive:function(){for(var e=this.classBreakInfos,t=1;t<e.length;t++)if(e[t-1].maxValue!==e[t].minValue)return!1;return!0}});return b}.apply(null,n))||(e.exports=i)},1493:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(2),r(0),r(31),r(5),r(1),r(1432),r(1643)],void 0===(i=function(e,t,r,n,i,o,a,l,s){return function(e){function t(t){var r=e.call(this)||this;return r.blurRadius=10,r.colorStops=[new s.HeatmapColorStop({ratio:0,color:new i("rgba(255, 140, 0, 0)")}),new s.HeatmapColorStop({ratio:.75,color:new i("rgba(255, 140, 0, 1)")}),new s.HeatmapColorStop({ratio:.9,color:new i("rgba(255, 0,   0, 1)")})],r.field=null,r.fieldOffset=0,r.maxPixelIntensity=100,r.minPixelIntensity=0,r.type="heatmap",r}var l;return r(t,e),l=t,t.prototype.clone=function(){return new l({blurRadius:this.blurRadius,colorStops:o.clone(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})},n([a.property({type:Number,json:{write:!0}})],t.prototype,"blurRadius",void 0),n([a.property({type:[s.HeatmapColorStop],json:{write:!0}})],t.prototype,"colorStops",void 0),n([a.property({type:String,json:{write:!0}})],t.prototype,"field",void 0),n([a.property({type:Number,json:{write:{overridePolicy:function(e,t,r){return{enabled:null==r}}}}})],t.prototype,"fieldOffset",void 0),n([a.property({type:Number,json:{write:!0}})],t.prototype,"maxPixelIntensity",void 0),n([a.property({type:Number,json:{write:!0}})],t.prototype,"minPixelIntensity",void 0),n([a.property({dependsOn:["field"],readOnly:!0})],t.prototype,"requiredFields",void 0),l=n([a.subclass("esri.renderers.HeatmapRenderer")],t)}(a.declared(l))}.apply(null,n))||(e.exports=i)},1494:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(2),r(0),r(92),r(420),r(407),r(8),r(5),r(7),r(19),r(1),r(38),r(51),r(1432),r(1495),r(1427),r(1644),r(151),r(150),r(1253),r(204)],void 0===(i=function(e,t,r,n,i,o,a,l,s,u,p,c,f,d,y,m,h,b,v,g,w,S){var V=u.getLogger("esri.renderers.UniqueValueRenderer"),x=f.ensureType(b.default);return function(e){function t(t){var r=e.call(this)||this;return r._valueInfoMap={},r._isDefaultSymbolDerived=!1,r.type="unique-value",r.backgroundFillSymbol=null,r.field=null,r.field2=null,r.field3=null,r.valueExpression=null,r.valueExpressionTitle=null,r.legendOptions=null,r.defaultLabel=null,r.fieldDelimiter=null,r.portal=null,r.styleOrigin=null,r.diff={uniqueValueInfos:function(e,t){if(e||t){if(!e||!t)return{type:"complete",oldValue:e,newValue:t};for(var r=!1,n={type:"collection",added:[],removed:[],changed:[],unchanged:[]},i=0;i<t.length;i++)!function(i){var o=a.find(e,function(e){return e.value===t[i].value});o?m.diff(o,t[i])?(n.changed.push({type:"complete",oldValue:o,newValue:t[i]}),r=!0):(n.unchanged.push({oldValue:o,newValue:t[i]}),r=!0):(n.added.push(t[i]),r=!0)}(i);for(i=0;i<e.length;i++)!function(i){a.find(t,function(t){return t.value===e[i].value})||(n.removed.push(e[i]),r=!0)}(i);return r?n:void 0}}},r._set("uniqueValueInfos",[]),r}var u;return r(t,e),u=t,t.prototype.writeType=function(e,t,r,n){t.type="uniqueValue"},t.prototype.writeBackgroundFillSymbolWebScene=function(e,t,r,n){g.writeTarget(e,t,r,n)},t.prototype.castField=function(e){return null==e?e:"function"==typeof e?e:f.ensureString(e)},t.prototype.writeField=function(e,t,r,n){"string"==typeof e?t[r]=e:n&&n.messages?n.messages.push(new l("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):V.error(".field: cannot write field to JSON since it's not a string value")},Object.defineProperty(t.prototype,"compiledFunc",{get:function(){return v.createFunction(this.valueExpression)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultSymbol",{set:function(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)},enumerable:!0,configurable:!0}),t.prototype.readDefaultSymbol=function(e,t,r){return g.read(e,t,r)},t.prototype.writeDefaultSymbolWebScene=function(e,t,r,n){this._isDefaultSymbolDerived||g.writeTarget(e,t,r,n)},t.prototype.writeDefaultSymbol=function(e,t,r,n){this._isDefaultSymbolDerived||g.writeTarget(e,t,r,n)},t.prototype.readPortal=function(e,t,r){return r.portal||d.getDefault()},t.prototype.readStyleOrigin=function(e,t,r){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){var n=p.read(t.styleUrl,r);return Object.freeze({styleUrl:n})}},t.prototype.writeStyleOrigin=function(e,t,r,n){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=p.write(e.styleUrl,n),p.isAbsolute(t.styleUrl)&&(t.styleUrl=p.normalize(t.styleUrl)))},Object.defineProperty(t.prototype,"uniqueValueInfos",{set:function(e){this.styleOrigin?V.error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap())},enumerable:!0,configurable:!0}),t.prototype.addUniqueValueInfo=function(e,t){var r;this.styleOrigin?V.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(r="object"==typeof e?x(e):new b.default({value:e,symbol:t}),this.uniqueValueInfos.push(r),this._valueInfoMap[r.value]=r)},t.prototype.removeUniqueValueInfo=function(e){if(this.styleOrigin)V.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(var t=0;t<this.uniqueValueInfos.length;t++)if(this.uniqueValueInfos[t].value===e+""){delete this._valueInfoMap[e],this.uniqueValueInfos.splice(t,1);break}},t.prototype.getUniqueValueInfo=function(e,t){var r,n=this.field,i=e.attributes;if(this.valueExpression)r=v.executeFunction(this.compiledFunc,v.createExecContext(e,v.getViewInfo(t)));else if("function"!=typeof n&&this.field2){var o=this.field2,a=this.field3,l=[];n&&l.push(i[n]),o&&l.push(i[o]),a&&l.push(i[a]),r=l.join(this.fieldDelimiter||"")}else"function"==typeof n?r=n(e):n&&(r=i[n]);return this._valueInfoMap[r+""]},t.prototype.getSymbol=function(e,t){var r=this.getUniqueValueInfo(e,t);return r&&r.symbol||this.defaultSymbol},t.prototype.getSymbols=function(){for(var e=[],t=0,r=this.uniqueValueInfos;t<r.length;t++){var n=r[t];n.symbol&&e.push(n.symbol)}return this.defaultSymbol&&e.push(this.defaultSymbol),e},t.prototype.clone=function(){var e=new u({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:s.clone(this.defaultSymbol),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:s.clone(this.visualVariables),legendOptions:s.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:s.clone(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal);var t=s.clone(this.uniqueValueInfos);return this.styleOrigin&&(e._set("styleOrigin",Object.freeze(s.clone(this.styleOrigin))),Object.freeze(t)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e},t.prototype.collectRequiredFields=function(e){this.inherited(arguments),[this.field,this.field2,this.field3].forEach(function(t){t&&"string"==typeof t&&(e[t]=!0)}),this.valueExpression&&v.extractFieldNames(this.valueExpression).forEach(function(t){e[t]=!0})},t.prototype.populateFromStyle=function(){var e=this;return w.fetchStyle(this.styleOrigin,{portal:this.portal}).then(function(t){var r=[];return e._valueInfoMap={},t&&t.data&&Array.isArray(t.data.items)&&t.data.items.forEach(function(n){var i=new o.WebStyleSymbol({styleUrl:t.styleUrl,styleName:t.styleName,portal:e.portal,name:n.name});e.defaultSymbol||n.name!==t.data.defaultItem||(e.defaultSymbol=i,e._isDefaultSymbolDerived=!0);var a=new b.default({value:n.name,symbol:i});r.push(a),e._valueInfoMap[n.name]=a}),e._set("uniqueValueInfos",Object.freeze(r)),!e.defaultSymbol&&e.uniqueValueInfos.length&&(e.defaultSymbol=e.uniqueValueInfos[0].symbol,e._isDefaultSymbolDerived=!0),e})},t.prototype._updateValueInfoMap=function(){var e=this;this._valueInfoMap={},this.uniqueValueInfos.forEach(function(t){return e._valueInfoMap[t.value+""]=t})},t.fromPortalStyle=function(e,t){var r=new u(t&&t.properties);r._set("styleOrigin",Object.freeze({styleName:e})),r._set("portal",t&&t.portal||d.getDefault());var n=r.populateFromStyle();return n.catch(function(t){V.error("#fromPortalStyle('"+e+"'[, ...])","Failed to create unique value renderer from style name",t)}),n},t.fromStyleUrl=function(e,t){var r=new u(t&&t.properties);r._set("styleOrigin",Object.freeze({styleUrl:e}));var n=r.populateFromStyle();return n.catch(function(t){V.error("#fromStyleUrl('"+e+"'[, ...])","Failed to create unique value renderer from style URL",t)}),n},n([c.property()],t.prototype,"type",void 0),n([c.writer("type")],t.prototype,"writeType",null),n([c.property({types:{base:o.BaseSymbol,key:"type",typeMap:{"simple-fill":S.rendererTypes.typeMap["simple-fill"],"picture-fill":S.rendererTypes.typeMap["picture-fill"],"polygon-3d":S.rendererTypes.typeMap["polygon-3d"]}},json:{read:g.read,write:g.writeTarget}})],t.prototype,"backgroundFillSymbol",void 0),n([c.writer("web-scene","backgroundFillSymbol",{backgroundFillSymbol:{type:o.PolygonSymbol3D}})],t.prototype,"writeBackgroundFillSymbolWebScene",null),n([c.property({json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],t.prototype,"field",void 0),n([c.cast("field")],t.prototype,"castField",null),n([c.writer("field")],t.prototype,"writeField",null),n([c.property({type:String,json:{write:!0}})],t.prototype,"field2",void 0),n([c.property({type:String,json:{write:!0}})],t.prototype,"field3",void 0),n([c.property({type:String,json:{write:!0}})],t.prototype,"valueExpression",void 0),n([c.property({type:String,json:{write:!0}})],t.prototype,"valueExpressionTitle",void 0),n([c.property({dependsOn:["valueExpression"]})],t.prototype,"compiledFunc",null),n([c.property({type:h.default,json:{write:!0}})],t.prototype,"legendOptions",void 0),n([c.property({type:String,json:{write:!0}})],t.prototype,"defaultLabel",void 0),n([c.property({types:S.rendererTypes})],t.prototype,"defaultSymbol",null),n([c.reader("defaultSymbol")],t.prototype,"readDefaultSymbol",null),n([c.writer("web-scene","defaultSymbol",{defaultSymbol:{types:S.rendererTypes3D}})],t.prototype,"writeDefaultSymbolWebScene",null),n([c.writer("defaultSymbol")],t.prototype,"writeDefaultSymbol",null),n([c.property({type:String,json:{write:!0}})],t.prototype,"fieldDelimiter",void 0),n([c.property({type:d,readOnly:!0})],t.prototype,"portal",void 0),n([c.reader("portal",["styleName"])],t.prototype,"readPortal",null),n([c.property({readOnly:!0})],t.prototype,"styleOrigin",void 0),n([c.reader("styleOrigin",["styleName","styleUrl"])],t.prototype,"readStyleOrigin",null),n([c.writer("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],t.prototype,"writeStyleOrigin",null),n([c.property({type:[b.default],json:{write:{overridePolicy:function(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],t.prototype,"uniqueValueInfos",null),n([c.property({dependsOn:["field","field2","field3","valueExpression"],readOnly:!0})],t.prototype,"requiredFields",void 0),n([i(1,c.cast(S.ensureType))],t.prototype,"addUniqueValueInfo",null),u=n([c.subclass("esri.renderers.UniqueValueRenderer")],t)}(c.declared(y))}.apply(null,n))||(e.exports=i)},1495:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(4),r(17),r(43)],void 0===(i=function(e,t,r,n,i){function o(e){return e instanceof r}function a(e){return e instanceof n?Object.keys(e.items):o(e)?i.getProperties(e).keys():e?Object.keys(e):[]}function l(e,t){return e instanceof n?e.items[t]:e[t]}function s(e){return e?e.declaredClass:null}function u(e,t){var r=e.diff;if(r&&"function"==typeof r)return r(e,t);var n=a(e),i=a(t);if(0!==n.length||0!==i.length){if(!n.length||!i.length||function(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}(e,t))return{type:"complete",oldValue:e,newValue:t};var c=i.filter(function(e){return-1===n.indexOf(e)}),f=n.filter(function(e){return-1===i.indexOf(e)}),d=n.filter(function(r){return i.indexOf(r)>-1&&l(e,r)!==l(t,r)}).concat(c,f).sort(),y=s(e);if(y&&p.indexOf(y)>-1&&d.length)return{type:"complete",oldValue:e,newValue:t};var m,h=o(e)&&o(t);for(var b in d){var v=d[b],g=l(e,v),w=l(t,v),S=void 0;(h||"function"!=typeof g&&"function"!=typeof w)&&g!==w&&(null==g&&null==w||(S=r&&r[v]&&"function"==typeof r[v]?r[v](g,w):"object"==typeof g&&"object"==typeof w&&s(g)===s(w)?u(g,w):{type:"complete",oldValue:g,newValue:w})&&((m=m||{type:"partial",diff:{}}).diff[v]=S))}return m}}Object.defineProperty(t,"__esModule",{value:!0});var p=["esri.Color","esri.portal.Portal"];t.diff=function(e,t){if("function"!=typeof e&&"function"!=typeof t&&(e||t))return!e||!t||"object"==typeof e&&"object"==typeof t&&s(e)!==s(t)?{type:"complete",oldValue:e,newValue:t}:u(e,t)}}.apply(null,n))||(e.exports=i)},1517:function(e,t,r){var n,i;n=[r(156),r(212)],void 0===(i=function(e,t){function r(e,t){return e-t}function n(e,t){var r,n;return(r=Number(e.toFixed(t)))<e?n=r+1/Math.pow(10,t):(n=r,r-=1/Math.pow(10,t)),[r=Number(r.toFixed(t)),n=Number(n.toFixed(t))]}function i(e,t,r,n,i){var o,a,l=s.percentChange(e,t,r,n);return o=null==l.previous||l.previous<=i,a=null==l.next||l.next<=i,o&&a||l.previous+l.next<=2*i}var o=/^-?(\d+)(\.(\d+))?$/i,a=new RegExp("\\"+t.decimal+"0+$","g"),l=new RegExp("(\\d)0*$","g"),s={numDigits:function(e){var t=String(e),r=t.match(o),n={integer:0,fractional:0};if(r&&r[1])n.integer=r[1].split("").length,n.fractional=r[3]?r[3].split("").length:0;else if(t.toLowerCase().indexOf("e")>-1){var i,a,l=t.split("e"),u=l[0],p=l[1];u&&p&&(u=Number(u),(a=(p=Number(p))>0)||(p=Math.abs(p)),i=s.numDigits(u),a?(i.integer+=p,p>i.fractional?i.fractional=0:i.fractional-=p):(i.fractional+=p,p>i.integer?i.integer=1:i.integer-=p),n=i)}return n},percentChange:function(e,t,r,n){var i,o,a={previous:null,next:null};return null!=r&&(o=t-r-(i=e-r),a.previous=Math.floor(Math.abs(100*o/i))),null!=n&&(o=n-t-(i=n-e),a.next=Math.floor(Math.abs(100*o/i))),a},round:function(e,t){var o,a,l,u,p,c,f,d,y,m,h=e.slice(0),b=t&&null!=t.tolerance?t.tolerance:2,v=t&&t.indexes,g=!(!t||null==t.strictBounds)&&t.strictBounds;if(v)v.sort(r);else for(v=[],f=0;f<h.length;f++)v.push(f);for(f=0;f<v.length;f++)if(o=h[m=v[f]],a=0===m?null:h[m-1],l=m===h.length-1?null:h[m+1],u=s.numDigits(o).fractional){for(d=0,y=!1;d<=u&&!y;)c=n(o,d),y=i(o,p=g&&0===f?c[1]:c[0],a,l,b),d++;y&&(h[m]=p)}return h},format:function(t,r){r=r||{places:20,round:-1};var n=e.format(t,r);return n&&(n=n.replace(l,"$1").replace(a,"")),n}};return s}.apply(null,n))||(e.exports=i)},1640:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(2),r(0),r(12),r(24),r(5),r(1),r(1641)],void 0===(i=function(e,t,r,n,i,o,a,l,s){var u=o({esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),p=o({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size"});return function(e){function t(t){var r=e.call(this)||this;return r.lengthUnit=null,r.visualVariables=null,r}var i;return r(t,e),i=t,Object.defineProperty(t.prototype,"classificationMethod",{get:function(){var e=this._get("classificationMethod"),t=this.type;return t&&"relationship"!==t?"class-breaks-size"===t||"class-breaks-color"===t?e||"manual":null:e},set:function(e){this._set("classificationMethod",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fields",{get:function(){return this.type&&"predominance"!==this.type?null:this._get("fields")},set:function(e){this._set("fields",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"field1",{get:function(){return this.type&&"relationship"!==this.type?null:this._get("field1")},set:function(e){this._set("field1",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"field2",{get:function(){return this.type&&"relationship"!==this.type?null:this._get("field2")},set:function(e){this._set("field2",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focus",{get:function(){return this.type&&"relationship"!==this.type?null:this._get("focus")},set:function(e){this._set("focus",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numClasses",{get:function(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")},set:function(e){this._set("numClasses",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"standardDeviationInterval",{get:function(){var e=this.type;return e&&"relationship"!==e&&"class-breaks-size"!==e&&"class-breaks-color"!==e?null:this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")},set:function(e){this._set("standardDeviationInterval",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._get("type")},set:function(e){var t=e;"classed-size"===e?t="class-breaks-size":"classed-color"===e&&(t="class-breaks-color"),this._set("type",t)},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new i({classificationMethod:this.classificationMethod,fields:this.fields&&this.fields.slice(0),field1:a.clone(this.field1),field2:a.clone(this.field2),focus:this.focus,numClasses:this.numClasses,lengthUnit:this.lengthUnit,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(function(e){return e.clone()})})},n([l.property({type:String,value:null,dependsOn:["type"],json:{read:u.read,write:u.write}})],t.prototype,"classificationMethod",null),n([l.property({type:[String],value:null,dependsOn:["type"],json:{write:!0}})],t.prototype,"fields",null),n([l.property({value:null,dependsOn:["type"],json:{write:!0}})],t.prototype,"field1",null),n([l.property({value:null,dependsOn:["type"],json:{write:!0}})],t.prototype,"field2",null),n([l.property({type:String,value:null,dependsOn:["type"],json:{write:!0}})],t.prototype,"focus",null),n([l.property({type:Number,value:null,dependsOn:["type"],json:{write:!0}})],t.prototype,"numClasses",null),n([l.property({type:String,json:{read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],t.prototype,"lengthUnit",void 0),n([l.property({type:Number,value:null,dependsOn:["classificationMethod","type"],json:{write:!0}})],t.prototype,"standardDeviationInterval",null),n([l.property({type:String,value:null,json:{read:p.read,write:p.write}})],t.prototype,"type",null),n([l.property({type:[s],json:{write:!0}})],t.prototype,"visualVariables",void 0),i=n([l.subclass("esri.renderers.support.AuthoringInfo")],t)}(l.declared(i))}.apply(null,n))||(e.exports=i)},1641:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(2),r(0),r(12),r(24),r(1),r(221)],void 0===(i=function(e,t,r,n,i,o,a,l){var s=o({percentTotal:"percent-of-total"}),u=o({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity"}),p={key:function(e){return"number"==typeof e?"number":"string"},typeMap:{number:Number,string:String},base:null};return function(e){function t(t){var r=e.call(this)||this;return r.endTime=null,r.field=null,r.maxSliderValue=null,r.minSliderValue=null,r.startTime=null,r.type=null,r.units=null,r}var i;return r(t,e),i=t,t.prototype.castEndTime=function(e){return"string"==typeof e||"number"==typeof e?e:null},t.prototype.castStartTime=function(e){return"string"==typeof e||"number"==typeof e?e:null},Object.defineProperty(t.prototype,"style",{get:function(){return"color"===this.type?this._get("style"):null},set:function(e){this._set("style",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"theme",{get:function(){return"color"===this.type?this._get("theme")||"high-to-low":null},set:function(e){this._set("theme",e)},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new i({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})},n([a.property({types:p,json:{write:!0}})],t.prototype,"endTime",void 0),n([l.cast("endTime")],t.prototype,"castEndTime",null),n([a.property({type:String,json:{write:!0}})],t.prototype,"field",void 0),n([a.property({type:Number,json:{write:!0}})],t.prototype,"maxSliderValue",void 0),n([a.property({type:Number,json:{write:!0}})],t.prototype,"minSliderValue",void 0),n([a.property({types:p,json:{write:!0}})],t.prototype,"startTime",void 0),n([l.cast("startTime")],t.prototype,"castStartTime",null),n([a.property({type:String,value:null,dependsOn:["type"],json:{read:s.read,write:s.write}})],t.prototype,"style",null),n([a.property({type:String,value:null,dependsOn:["type"],json:{write:!0}})],t.prototype,"theme",null),n([a.property({type:String,json:{read:u.read,write:u.write}})],t.prototype,"type",void 0),n([a.property({type:String,json:{write:!0}})],t.prototype,"units",void 0),i=n([a.subclass("esri.renderers.support.AuthoringInfoVisualVariable")],t)}(a.declared(i))}.apply(null,n))||(e.exports=i)},1642:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(2),r(0),r(12),r(1),r(150),r(204)],void 0===(i=function(e,t,r,n,i,o,a,l){Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.description=null,t.label=null,t.minValue=null,t.maxValue=0,t.symbol=null,t}var i;return r(t,e),i=t,t.prototype.clone=function(){return new i({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})},n([o.property({type:String,json:{write:!0}})],t.prototype,"description",void 0),n([o.property({type:String,json:{write:!0}})],t.prototype,"label",void 0),n([o.property({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],t.prototype,"minValue",void 0),n([o.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],t.prototype,"maxValue",void 0),n([o.property({types:l.rendererTypes,json:{origins:{"web-scene":{read:a.read,write:{target:{symbol:{types:l.rendererTypes3D}},writer:a.writeTarget}}},read:a.read,write:a.writeTarget}})],t.prototype,"symbol",void 0),i=n([o.subclass("esri.renderers.support.ClassBreakInfo")],t)}(o.declared(i));t.ClassBreakInfo=s,t.default=s}.apply(null,n))||(e.exports=i)},1643:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(2),r(0),r(31),r(12),r(1)],void 0===(i=function(e,t,r,n,i,o,a){Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(t){var r=e.call(this)||this;return r.color=null,r.ratio=null,r}var o;return r(t,e),o=t,t.prototype.clone=function(){return new o({color:this.color,ratio:this.ratio})},n([a.property({type:i,json:{write:!0}})],t.prototype,"color",void 0),n([a.property({type:Number,json:{write:!0}})],t.prototype,"ratio",void 0),o=n([a.subclass("esri.renderers.support.HeatmapColorStop")],t)}(a.declared(o));t.HeatmapColorStop=l,t.default=l}.apply(null,n))||(e.exports=i)},1644:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(2),r(0),r(12),r(1),r(150),r(204)],void 0===(i=function(e,t,r,n,i,o,a,l){Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.description=null,t.label=null,t.symbol=null,t.value=null,t}var i;return r(t,e),i=t,t.prototype.clone=function(){return new i({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})},n([o.property({type:String,json:{write:!0}})],t.prototype,"description",void 0),n([o.property({type:String,json:{write:!0}})],t.prototype,"label",void 0),n([o.property({types:l.rendererTypes,json:{origins:{"web-scene":{read:a.read,write:{target:{symbol:{types:l.rendererTypes3D}},writer:a.writeTarget}}},read:a.read,write:a.writeTarget}})],t.prototype,"symbol",void 0),n([o.property({type:String,json:{write:!0}})],t.prototype,"value",void 0),i=n([o.subclass("esri.renderers.support.UniqueValueInfo")],t)}(o.declared(i));t.UniqueValueInfo=s,t.default=s}.apply(null,n))||(e.exports=i)}}]);